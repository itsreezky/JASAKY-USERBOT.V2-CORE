function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0xf8;let f=c[d];if(a0d['MvpdCU']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['YWZbuV']=g,a=arguments,a0d['MvpdCU']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['HUkUHt']=l,this['EHFqbC']=[0x1,0x0,0x0],this['BfkeqT']=function(){return'newState';},this['LsPBlh']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['NCmLXt']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['ruwgTN']=function(){const l=new RegExp(this['LsPBlh']+this['NCmLXt']),m=l['test'](this['BfkeqT']['toString']())?--this['EHFqbC'][0x1]:--this['EHFqbC'][0x0];return this['PheTIC'](m);},k['prototype']['PheTIC']=function(l){if(!Boolean(~l))return l;return this['cLlzfz'](this['HUkUHt']);},k['prototype']['cLlzfz']=function(l){for(let m=0x0,n=this['EHFqbC']['length'];m<n;m++){this['EHFqbC']['push'](Math['round'](Math['random']())),n=this['EHFqbC']['length'];}return l(this['EHFqbC'][0x0]);},new k(a0d)['ruwgTN'](),f=a0d['YWZbuV'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}const a0F=a0d;(function(a,b){const D=a0d,c=a();while(!![]){try{const d=-parseInt(D(0x121))/0x1*(-parseInt(D(0x118))/0x2)+parseInt(D(0x127))/0x3+parseInt(D(0x126))/0x4+parseInt(D(0x120))/0x5+-parseInt(D(0x10f))/0x6*(-parseInt(D(0x11b))/0x7)+-parseInt(D(0x11a))/0x8+-parseInt(D(0x123))/0x9;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x30c3f));function a0c(){const L=['zxHLy3v0zq','zNjVBq','4P2mieDHz2fSig11yxqGA29UDhjVBcbHA3rPzJO','DxnLCM5HBwvcB3q','4QYf77IpieTLBwjHBgK','nti5otHTzujNu24','y2HHCKf0','CMfUzg9T','Aw5JBhvKzxm','BgvUz3rO','pc9WCMu+cG','iJ5ODhrWCZOVl3qUBwuV','A29Kzv9YzwzLCMfS','su5trvjuieLove8GCMvMzxjHBf91C2vYyM90icHPzf90zwXLz3jHBsWGDxnLCM5HBwuSigTVzgvFCMvMzxjHBcWGy3jLyxrLzf9HDcKGvKfmvuvticG/lca/lca/lcbot1COksK','ogXtuwrMCW','AwqTsuq','otK1odi0yLvUBuHM','mZaXufbTqK9k','C2vUze1LC3nHz2u','ANvTBgfOx2nVAw4','CxvLCNK','qujdrevgr0HjsKTmtu5puffsu1rvvLDywvOWmtiZndu2nZG5','mtu5mZy0mhzNDgzsBq','mJK0ntnvzurgBwS','8j+pHIa8yJ5mzwfKzxjIB2fYzcbszwzLCNjHBdWVyJ4G8j+pHGRWN5ofia','nJm4odKXmwLovezptq','ienVAw4GpsaXiej1BgfUifnfv0eGqurnsu4GkYaXmcbtBg90iefRDw4k','ienVAw4GpsaXiej1BgfUiePbu0vccG','mJq2mZK2AePZwKDl','ndy4ndi2shnKzgrX','ienVAw4GpsaXieTVBNrYB2WGqwT1BGO','8j+QMsa8yJ5qzw5Nz3vUywfUienVAw46pc9IpGO8ChjLpG','y29UC3rYDwn0B3i','ienVAw4GpsbmAwzLDgLTzsbtrvDbiefetuLoicSGmJaGu2XVDcbbA3vUcG','lIa8yJ4','4P2mifrLCMPHzgKGA2vZywXHAgfUihnHyxqGBwvUz2fTyMLSignVAw4U','cGKju0vmrunuihiUAwrFDgvSzwDYyw0SihiUDxnLCM5HBwuSihiUA29Kzv9YzwzLCMfSlcbYlMP1BwXHAf9YzwzLCMfSlcbWlM5HBwfFzgvWyw4SihaUBMfTyv9IzwXHA2fUzWOjcuzst00GCMvMzxjHBf91C2vYyM90ihikcqLmruzuiePpsu4GCgvUz2D1BMfFDxnLCMjVDcbWie9oihiUAwrFDgvSzwDYyw0GpsbWlMLKx3rLBgvNCMfTcGKjt1jerviGqLKGCI5QDw1SywHFCMvMzxjHBcbervndcGKjteLnsvqGmtakcq','u0vmrunuigLKx3rLBgvNCMfTx2rPA29UDhjVBcbguK9nigTVBNrYB2XFC2vZC2LVBNnFDxnLCMjVDcbxsevsrsbPzf90zwXLz3jHBv9Wzw5NB250CM9Sid0GpYbbtKqGywT0AwyGpsb0CNvLieXjtuLuide','zMXVB3i','8j+uLYa8yJ5mAw5RifjLzMvYCMfSiefUzge6pc9IpGO','CMvWBhLFBwfYA3vW','sfrnta','ienVAw4GCgvYideGC2XVDc4k','pgeGAhjLzJ0IAhr0Chm6lY90lM1LlW','yw5ZD2vYq2fSBgjHy2TrDwvYEq','C2fSzg9Fy29PBG','zxHWB3j0CW','zxjYB3i','p3n0yxj0pq'];a0c=function(){return L;};return a0c();}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const E=a0d;return a0a['toString']()['search']('(((.+)+)+)+$')['toString']()[E(0xf9)](a0a)['search']('(((.+)+)+)+$');});a0a();const moment=require('moment'),kembaliButton={'reply_markup':{'inline_keyboard':[[{'text':a0F(0x10e),'callback_data':'/start'}]]}};async function referalHandler(a,b,c,d){const G=a0F,{db:e,getDataUserbot:f}=d,g=await f(),h=!!b['message'],i=h?b['message']:b,j=b[G(0x10b)]['id'],k=b[G(0x10b)]['username']||'',l=i['chat']['id'];let m;try{const [o]=await e[G(0x11e)](G(0xfe),[j]);if(o['length']>0x0)m=o[0x0]['id_telegram_dikontrol'];}catch(p){console['error'](G(0x10c),p);}const n=m||j;if(h&&b['data']==='ambil_coin'){try{const [[q]]=await e[G(0x10a)]('SELECT\x20jumlah_coin\x20FROM\x20referal_userbot\x20WHERE\x20id_telegram\x20=\x20?',[n]),[[r]]=await e['execute']('SELECT\x20saldo_coin\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?',[n]),s=q?.['jumlah_coin']||0x0;if(!r){await a['sendMessage'](n,'🔒\x20Akun\x20kamu\x20belum\x20terdaftar.\x0aNamun\x20coin\x20dari\x20referral\x20telah\x20disimpan.\x0a\x0a'+('📦\x20Coin\x20disimpan:\x20<b>'+s+'\x20coin</b>\x0a\x0a')+'ℹ️\x20Gunakan\x20coin\x20di\x20🛒\x20<b>TOKO</b>\x20🛒\x20untuk\x20membeli\x20lisensi\x20/\x20fitur.',{'parse_mode':G(0x102),...kembaliButton}),await a['answerCallbackQuery'](b['id']);return;}if(s>0x0){const t=(r[G(0x106)]||0x0)+s;await e['execute']('UPDATE\x20pengguna_userbot\x20SET\x20saldo_coin\x20=\x20?\x20WHERE\x20id_telegram\x20=\x20?',[t,n]),await e['execute']('UPDATE\x20referal_userbot\x20SET\x20jumlah_coin\x20=\x200\x20WHERE\x20id_telegram\x20=\x20?',[n]),await a[G(0x11c)](n,'🎉\x20Kamu\x20telah\x20mengambil\x20<b>'+s+'</b>\x20coin\x20dari\x20referral.\x0a'+('💰\x20Saldo\x20sekarang:\x20<b>'+t+'</b>\x20coin'),{'parse_mode':G(0x102),...kembaliButton});}else await a['sendMessage'](n,'⚠️\x20Kamu\x20tidak\x20memiliki\x20coin\x20referral\x20untuk\x20diambil.',kembaliButton);await a[G(0x105)](b['id']);return;}catch(u){console['error'](u),await a['sendMessage'](n,G(0xfc),kembaliButton);}await a['answerCallbackQuery'](b['id']);return;}try{await tampilkanLeaderboard(a,l,e);const [v]=await e['execute']('SELECT\x20*\x20FROM\x20referal_userbot\x20WHERE\x20id_telegram\x20=\x20?',[n]);let w=v[0x0];if(!w){const B=generateReferralCode();await e['execute'](G(0x117),[n,k,B]),w={'kode_referal':B,'jumlah_referal':0x0,'jumlah_coin':0x0,'created_at':new Date()};}const x=moment(w['created_at'])['format']('DD\x20MMMM\x20YYYY,\x20HH:mm'),y=await buildPenggunaanCoin(d),z=g[G(0x10d)],A=G(0x100)+(G(0x104)+z+G(0x109)+w[G(0x116)]+G(0x115)+z+'?start='+w[G(0x116)]+'</a>\x0a\x0a')+('👥\x20<b>Jumlah\x20Referral:</b>\x20'+w['jumlah_referal']+'\x0a')+('💰\x20<b>Total\x20Coin:</b>\x20'+w[G(0x11d)]+'\x0a')+('📆\x20<b>Terdaftar\x20Sejak:</b>\x20'+x+'\x20WIB\x0a\x0a')+'📌\x20<b>Keterangan:</b>\x0a'+'Setiap\x20klik\x20START\x20dari\x20link\x20kamu\x20akan\x20memberikan\x201\x20coin.\x0a\x0a'+(G(0xf8)+y+G(0x114))+'ℹ️\x20Gunakan\x20coin\x20di\x20🛒\x20<b>TOKO</b>\x20🛒\x20untuk\x20membeli\x20lisensi\x20/\x20fitur.';await a['sendMessage'](l,A,{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'💰\x20Ambil\x20Coin','callback_data':'ambil_coin'}],[{'text':G(0x10e),'callback_data':'/start'}]]}});}catch(C){console[G(0x108)]('❌\x20Error\x20referral:',C),await a[G(0x11c)](l,'❌\x20Gagal\x20memproses\x20referral.',kembaliButton);}}function generateReferralCode(a=0x6){const H=a0F,b=H(0x11f);let c='';for(let d=0x0;d<a;d++){c+=b[H(0x110)](Math[H(0xff)](Math[H(0x111)]()*b[H(0x113)]));}return c;}async function tampilkanLeaderboard(a,b,c){const I=a0F,[d]=await c[I(0x10a)](I(0xfd));if(d[I(0x113)]===0x0){await a['sendMessage'](b,'🏆\x20<b>Leaderboard\x20Referral\x20Kosong</b>\x20🏆',{'parse_mode':'HTML','reply_markup':kembaliButton[I(0x101)]});return;}const e=new Date()['toLocaleString'](I(0x119),{'dateStyle':'full','timeStyle':'short'});let f=I(0x122)+e+'\x20WIB\x0a\x0a';d['forEach']((g,h)=>{const J=I,j=(''+(g['username']||''))['trim']();f+=h+0x1+J(0xfb)+(j||'Tamu\x20'+g['id_telegram'])+'\x20-\x20'+g['jumlah_referal']+'</b>\x20referral\x0a';}),await a['sendMessage'](b,f,{'parse_mode':I(0x102)});}async function buildPenggunaanCoin(a){const K=a0F,{getDataUserbot:b}=a,c=await b(),{lisensiPaket:lisensiPaket='-',hargaMember:hargaMember=0x0,hargaJaseb:hargaJaseb=0x0,hargaVIP:hargaVIP=0x0,hargaSewaAdmin:hargaSewaAdmin=0x0,hargaLifetimeAdmin:hargaLifetimeAdmin=0x0,hargaKontrolAkun:hargaKontrolAkun=0x0,hargaSlotKontrol:hargaSlotKontrol=0x0}=c;let d='-\x20'+hargaMember+'\x20Coin\x20=\x201\x20Bulan\x20MEMBER\x0a'+('-\x20'+hargaJaseb+K(0x125))+('-\x20'+hargaVIP+'\x20Coin\x20=\x201\x20Bulan\x20VIP\x0a');if(lisensiPaket[K(0x112)]('VIP'))d+='-\x20'+hargaKontrolAkun+K(0x128);if(lisensiPaket['includes']('VVIP'))d+='-\x20'+hargaSewaAdmin+K(0x124)+('-\x20'+hargaLifetimeAdmin+K(0xfa))+('-\x20'+hargaSlotKontrol+K(0x103));return d;}referalHandler['onCallbackQuery']=async(a,b,c,d)=>{await referalHandler(a,b,c,d);},module[a0F(0x107)]=referalHandler;