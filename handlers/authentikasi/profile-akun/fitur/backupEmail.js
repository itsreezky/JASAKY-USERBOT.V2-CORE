const a0A=a0d;(function(a,b){const y=a0d,c=a();while(!![]){try{const d=parseInt(y(0x194))/0x1*(-parseInt(y(0x197))/0x2)+-parseInt(y(0x1a4))/0x3*(-parseInt(y(0x189))/0x4)+-parseInt(y(0x18b))/0x5*(parseInt(y(0x18f))/0x6)+parseInt(y(0x1ab))/0x7*(parseInt(y(0x18c))/0x8)+-parseInt(y(0x19f))/0x9*(-parseInt(y(0x18e))/0xa)+-parseInt(y(0x1ad))/0xb+-parseInt(y(0x1a2))/0xc*(-parseInt(y(0x19c))/0xd);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x9b252));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){const z=a0d;if(c){const e=c[z(0x19a)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){return a0a['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a0a)['search']('(((.+)+)+)+$');});a0a();function a0c(){const D=['mZq5nJy2mgn1zuvoqG','l3bYB2zPBgvbA3vU','nvLXAKjOEq','mtq4mZq2nffoDuPbqG','u0vmrunuigLKx3rLBgvNCMfTx2rPA29UDhjVBcbguK9nigTVBNrYB2XFC2vZC2LVBNnFDxnLCMjVDcbxsevsrsbPzf90zwXLz3jHBv9Wzw5NB250CM9Sid0GpYbbtKqGywT0AwyGpsb0CNvLieXjtuLuide','mJbdtevAD1a','ntGZmteWnKfYA0ziyG','BwvZC2fNzq','8j+tPsbtAwXHA2fUig1HC3vRA2fUigfSyw1HDcbLBwfPBcb5yw5NigLUz2LUigrPz3vUywTHBIb1BNr1AYbIywnRDxaGC2vZC2LVBIbuzwXLz3jHBsbbBMrHlG','zxjYB3i','C3rLCa','nZuYnZa1BwjMrhrM','8j+tPcblAxjPBsbeyxrHifrLCMjHCNuG8j+tPa','igaO','mNPHqu5PDq','4O+Zie1LBMDPCMLTigrHDgeGyMfJA3vW4OcM','suqG','yxbWBhK','y2HHDa','mtiYmKfksKLiyq','zNjVBq','DxnLCM5HBwvqzw1PBgLR','mJm4nta1neHzCfrmzW','Ahr0Chm6lY90lM1LlW','yw5ZD2vYq2fSBgjHy2TrDwvYEq','mti2oduYuhrRB25Q','BgvUz3rO','m1bZtMPuzW','zw1HAwW','CxvLCNK','4P2mieDHz2fSig11yxqGA29UDhjVBcbHA3rPzJO','zxHWB3j0CW','ipcFHPG','Dgv4Da','n0TYBfryCq','sfrnta','mJq1ntC5nfr4ruTosq','DgvZDa','C2vUze1LC3nHz2u'];a0c=function(){return D;};return a0c();}const kirimBackupEmailHelpers=require('../../../../system/helpers/kirimBackupEmailHelpers'),userSessions={},kembaliInlineButton={'reply_markup':{'inline_keyboard':[[{'text':'‚¨ÖÔ∏è\x20Kembali\x20ke\x20Profile\x20Akun','callback_data':a0A(0x18a)}]]}};async function handleProfileBackupEmail(a,b,c,d){const B=a0A,{db:e,getDataUserbot:f}=d,g=await f(),h=!!b['message'],i=h?b[B(0x190)]:b,j=b['from']['id'],k=i[B(0x19b)]['id'],l=g[B(0x19e)];let m;try{const [t]=await e['query'](B(0x18d),[j]);if(t['length']>0x0)m=t[0x0]['id_telegram_dikontrol'];}catch(u){console['error'](B(0x1a7),u);}const n=m||j,o=Boolean(m),[[p]]=await e[B(0x1a6)]('SELECT\x20nama_depan,\x20nama_belakang\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?',[n]),q=p?((p['nama_depan']||'')+'\x20'+(p['nama_belakang']||''))['trim']():B(0x199)+n,[[r]]=await e[B(0x1a6)]('SELECT\x20email\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?',[n]),s=r?.['email'];if(s&&!h){await a[B(0x1af)](k,'üìß\x20Email\x20kamu\x20sudah\x20pernah\x20disetel:\x20<b>'+s+'</b>\x0a\x0a'+'Klik\x20tombol\x20di\x20bawah\x20jika\x20ingin\x20<b>mengirim\x20ulang\x20backup\x20terbaru</b>\x20ke\x20email\x20tersebut.\x0a\x0a'+'Atau\x20jika\x20ingin\x20mengganti\x20email,\x20silakan\x20hubungi\x20admin.',{'parse_mode':B(0x1ac),'reply_markup':{'inline_keyboard':[[{'text':B(0x195),'callback_data':'kirim_backup_email'}],[{'text':'üÜò\x20HUBUNGI\x20@'+l['toUpperCase']()+B(0x1a9),'url':B(0x1a0)+l}],...kembaliInlineButton]}});return;}!s&&!h&&(o&&await a['sendMessage'](k,'üé≠\x20Kamu\x20Sedang\x20Mengontrol\x20Akun:\x20'+q+B(0x196)+n+')`'),await a['sendMessage'](k,B(0x191),kembaliInlineButton),userSessions[n]={'step':'input_email'});if(!h&&userSessions[n]?.[B(0x193)]==='input_email'){const v=i[B(0x1aa)]['trim'](),w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!w[B(0x1ae)](v)){await a[B(0x1af)](k,'‚ùå\x20Format\x20email\x20tidak\x20valid.\x20Silakan\x20masukkan\x20email\x20yang\x20benar.',kembaliInlineButton);return;}try{await e['execute']('INSERT\x20INTO\x20pengguna_userbot\x20(id_telegram,\x20email)\x20VALUES\x20(?,\x20?)\x20ON\x20DUPLICATE\x20KEY\x20UPDATE\x20email\x20=\x20VALUES(email)',[n,v]),await kirimBackupEmailHelpers(a,i,v,d,n);}catch(x){console[B(0x192)](x),await a['sendMessage'](k,'‚ùå\x20Terjadi\x20kesalahan\x20saat\x20menyimpan\x20email\x20atau\x20mengirim\x20backup.',kembaliInlineButton);}finally{delete userSessions[n];}}}function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x189;let f=c[d];if(a0d['tdhGuO']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['kyHFha']=g,a=arguments,a0d['tdhGuO']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['pCsvhv']=l,this['RbWLWs']=[0x1,0x0,0x0],this['ZfIYvx']=function(){return'newState';},this['IBSCRb']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['lukTmC']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['BDzCpc']=function(){const l=new RegExp(this['IBSCRb']+this['lukTmC']),m=l['test'](this['ZfIYvx']['toString']())?--this['RbWLWs'][0x1]:--this['RbWLWs'][0x0];return this['BuPcDB'](m);},k['prototype']['BuPcDB']=function(l){if(!Boolean(~l))return l;return this['dOtavs'](this['pCsvhv']);},k['prototype']['dOtavs']=function(l){for(let m=0x0,n=this['RbWLWs']['length'];m<n;m++){this['RbWLWs']['push'](Math['round'](Math['random']())),n=this['RbWLWs']['length'];}return l(this['RbWLWs'][0x0]);},new k(a0d)['BDzCpc'](),f=a0d['kyHFha'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}handleProfileBackupEmail['onCallbackQuery']=async(a,b,c,d)=>{const C=a0A,e=b[C(0x19d)]['id'],f=b[C(0x190)]['chat']['id'];let g;try{const [k]=await d['db']['query'](C(0x18d),[e]);if(k[C(0x1a3)]>0x0)g=k[0x0]['id_telegram_dikontrol'];}catch(l){console['error'](C(0x1a7),l);}const h=g||e,[[i]]=await d['db'][C(0x1a6)]('SELECT\x20email\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?\x20LIMIT\x201',[h]);if(!i?.[C(0x1a5)]){await a[C(0x1af)](f,'‚ö†Ô∏è\x20Email\x20belum\x20pernah\x20diset.'),await a[C(0x1a1)](b['id']);return;}const j={...b['message'],'from':b['from']};await kirimBackupEmailHelpers(a,j,i['email'],d,h),await a['answerCallbackQuery'](b['id'],{'text':C(0x198)});},module[a0A(0x1a8)]=handleProfileBackupEmail;