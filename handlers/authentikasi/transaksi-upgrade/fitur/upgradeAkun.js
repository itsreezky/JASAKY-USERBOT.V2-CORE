const a0y=a0d;(function(a,b){const v=a0d,c=a();while(!![]){try{const d=parseInt(v(0x1d5))/0x1+-parseInt(v(0x1d8))/0x2+parseInt(v(0x1dd))/0x3+-parseInt(v(0x1b9))/0x4+-parseInt(v(0x1b7))/0x5*(parseInt(v(0x1b8))/0x6)+parseInt(v(0x1eb))/0x7+parseInt(v(0x1c2))/0x8;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x8ef65));function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x1b5;let f=c[d];if(a0d['hPBjfz']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['TISZob']=g,a=arguments,a0d['hPBjfz']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['ipPnIL']=l,this['puDhDQ']=[0x1,0x0,0x0],this['OIamRX']=function(){return'newState';},this['yXdOcp']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['BsOSrX']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['Pwnyhk']=function(){const l=new RegExp(this['yXdOcp']+this['BsOSrX']),m=l['test'](this['OIamRX']['toString']())?--this['puDhDQ'][0x1]:--this['puDhDQ'][0x0];return this['vfQNSg'](m);},k['prototype']['vfQNSg']=function(l){if(!Boolean(~l))return l;return this['ZsVrai'](this['ipPnIL']);},k['prototype']['ZsVrai']=function(l){for(let m=0x0,n=this['puDhDQ']['length'];m<n;m++){this['puDhDQ']['push'](Math['round'](Math['random']())),n=this['puDhDQ']['length'];}return l(this['puDhDQ'][0x0]);},new k(a0d)['Pwnyhk'](),f=a0d['TISZob'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}function a0c(){const B=['itWVyJ4kcG','ienVAw48l2i+','pc9IpIbKzw5Nyw4GC2fSzg8Gpgi+','8j+uKcbtDgf0DxmGC2fHDcbPBMK6idXIpLzjudWVyJ4k','Bgv2zwW','u0vmrunuig5HBwfFzgvWyw4Sig5HBwfFyMvSywTHBMCGrLjptsbWzw5Nz3vUyv91C2vYyM90ifDirvjfigLKx3rLBgvNCMfTid0GpW','ienVAw48l2i+cG','4P2micPtDgf0DxmGywT1BIb0AwrHAYb2ywXPzceQcGPvCgDYywrLigHHBNLHihrLCNnLzgLHihvUDhvRihbLBMDNDw5HigrLBMDHBIbSzxzLBcaQtwvTyMvYkI4','Dg9tDhjPBMC','BMfTyv9IzwXHA2fUzW','BwvZC2fNzq','nty3mJKZsKvdtu1Y','kcGOlISPkYKRksSK','pc9IpIbIzxjOyxnPBca8yJ5KAs11CgDYywrLigTLifzjudWVyJ4UcGO','mtCXnde4mhbZAu1svW','CxvLCNK','C2fSzg9Fy29PBG','BgvUz3rO','8j+oRsa8yJ5lyw11ifnLzgfUzYbnzw5NB250CM9SiefRDw46pc9IpIa','mJaYotq0nMTey1vTta','u0vmrunuigLKx3rLBgvNCMfTx2rPA29UDhjVBcbguK9nigTVBNrYB2XFC2vZC2LVBNnFDxnLCMjVDcbxsevsrsbPzf90zwXLz3jHBv9Wzw5NB250CM9Sid0GpYbbtKqGywT0AwyGpsb0CNvLieXjtuLuide','4P2miejHDgfS','y2HHDa','sfrnta','yxbWBhK','4QYf77IpieTftujbteKGs0uGvfjbtLnbs1njifvqr1jbreu','C2vUze1LC3nHz2u','qwT1BIa8yJ4','u0vmrunuicOGrLjptsbWzw5Nz3vUyv91C2vYyM90ifDirvjfigLKx3rLBgvNCMfTid0GpYbmsu1jvcaX','vgvYAw1HigTHC2LOihrLBgfOigjLCMDHyNvUzYbTzw5QywrPig1LBwjLCIbWCMvTAxvTlGO','4P2mieDHz2fSig1LBxvHDcbRB250CM9SigfRDgLMigrHCMKGzgf0ywjHC2u6','DxbNCMfKzv92Axa','qxbHA2fOiefUzgeGAw5NAw4GBwvSyw5QDxrRyw4GDxbNCMfKzt8','mZy3mJq4n3b1rNnpvW','BMfTyv9KzxbHBG','kwakcG','mtbvswHuC2i','mJe3mZC4oe5tvg1Ptq','nduZnZe4oeHxy0TtuG','DhjPBq','yMf0ywXFDxbNCMfKzq','pc9IpGOk','ienVAw48l2i+cGO','itWVyJ4Gqw5KysbZDwrHAcbTzw5QywrPigfUz2DVDgeGpgi+vKLqpc9IpIbKAsba','y29UC3rYDwn0B3i','tuvnqKvs','8j+sVcbtAxnHihnHBgrVoIa8yJ4','mtiYnJuXmJbju1f4z2i','zNjVBq','B3jPz2LUywXFzNjVBv9Pza','twfYA2rVD24','C2vHCMnO','AwrFDgvSzwDYyw1FzgLRB250CM9S','pc9IpIbZzwTHCMfUzYbQDwDHisdWN5Qa','ienVAw48l2i+lG'];a0c=function(){return B;};return a0c();}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){const w=a0d;if(c){const e=c[w(0x1e2)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const x=a0d;return a0a['toString']()[x(0x1c6)](x(0x1d6))[x(0x1d2)]()[x(0x1bf)](a0a)[x(0x1c6)](x(0x1d6));});a0a();const kembaliInlineButton={'reply_markup':{'inline_keyboard':[[{'text':a0y(0x1e3),'callback_data':'/transaksiUpgrade'}]]}};async function registerUpgradeAkunHandler(a,b,c,d){const z=a0y,{db:e,getDataUserbot:f}=d,g=await f(),h=b[z(0x1e0)]['id'],i=b[z(0x1c4)]||b['from']['id'],{usernameBot:j,hargaUpgradeAkun:k}=g;let l;try{const [s]=await e['query'](z(0x1de),[i]);s[z(0x1db)]>0x0&&(l=s[0x0][z(0x1c7)]);}catch(t){console['error'](z(0x1e8),t);}const m=Boolean(l),n=l||i,[[o]]=await e[z(0x1d9)](z(0x1e6),[n]),[[p]]=await e['query'](z(0x1cf),[n]),q=p?((p['nama_depan']||'')+'\x20'+(p[z(0x1d3)]||''))['trim']():'ID\x20'+n,r=m?z(0x1dc)+q+'\x20`('+n+z(0x1b6):'';if(!o){const u=((b['from']['first_name']||'')+'\x20'+(b[z(0x1c3)]['last_name']||''))[z(0x1ba)]();return a['sendMessage'](h,r+('⚠️\x20<b>Hai\x20'+(u||'Pengguna')+z(0x1ca))+'Akun\x20Anda\x20belum\x20terdaftar\x20di\x20sistem\x20kami.\x0aSilakan\x20login\x20terlebih\x20dahulu\x20melalui\x20menu\x20🔑\x20LOGIN\x20🔑.',{'parse_mode':'HTML',...kembaliInlineButton});}if(['VIP','Administrator','Owner']['includes'](o[z(0x1ce)]))return a['sendMessage'](h,r+('👑\x20<b>Hai\x20'+o[z(0x1b5)]+z(0x1be)+j+'.\x0a\x0a')+'Terima\x20kasih\x20telah\x20menjadi\x20bagian\x20dari\x20member\x20vip\x20kami!\x0aNikmati\x20semua\x20fitur\x20eksklusif\x20ya!\x20🎉',{'parse_mode':z(0x1e1),...kembaliInlineButton});if(o['level']!==z(0x1c0))return a[z(0x1e4)](h,z(0x1d1),{'parse_mode':z(0x1c5),...kembaliInlineButton});return a[z(0x1e4)](h,r+('🚀\x20<b>Upgrade\x20ke\x20VIP\x20@'+j+z(0x1bc))+'💎\x20Nikmati\x20fitur\x20eksklusif\x20&\x20keistimewaan\x20khusus\x20member\x20premium!\x0a\x0a'+('💰\x20Harga\x20upgrade:\x20<b>'+k+z(0x1d0))+('🔐\x20Status\x20Anda\x20saat\x20ini:\x20<b>'+o['level']+'</b>\x0a')+('💼\x20Saldo\x20Anda:\x20<b>'+o['saldo_coin']+'\x20Coin</b>\x0a\x0a')+z(0x1ea),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'✅\x20Upgrade\x20Sekarang','callback_data':z(0x1e9)}],[{'text':z(0x1df),'callback_data':z(0x1bb)}]]}});}registerUpgradeAkunHandler['onCallbackQuery']=async(a,b,c,d)=>{const A=a0y,{db:e,getDataUserbot:f}=d,g=await f(),h=b[A(0x1d4)]['chat']['id'],i=b['from']['id'],{usernameBot:j,hargaUpgradeAkun:k}=g;let l;try{const [r]=await e['query']('SELECT\x20id_telegram_dikontrol\x20FROM\x20kontrol_sessions_userbot\x20WHERE\x20id_telegram_pengontrol\x20=\x20?\x20AND\x20aktif\x20=\x20true\x20LIMIT\x201',[i]);r['length']>0x0&&(l=r[0x0][A(0x1c7)]);}catch(s){}const m=Boolean(l),n=l||i,[[o]]=await e[A(0x1d9)]('SELECT\x20*\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?\x20LIMIT\x201',[n]);if(!o)return;const p=((o['nama_depan']||'')+'\x20'+(o[A(0x1d3)]||''))['trim'](),q=m?'🎭\x20<b>Kamu\x20Sedang\x20Mengontrol\x20Akun:</b>\x20'+p+'\x20`('+n+')`\x0a\x0a':'';if(b['data']===A(0x1bb))return a[A(0x1e4)](h,q+'❌\x20<b>Upgrade\x20Dibatalkan.</b>\x0a\x0a'+('Anda\x20tetap\x20berada\x20di\x20level\x20<b>'+o[A(0x1ce)]+A(0x1cc)+o[A(0x1da)]+A(0x1c9)),{'parse_mode':'HTML',...kembaliInlineButton});if(b['data']==='upgrade_vip'){if(o['saldo_coin']<k)return a['sendMessage'](h,'❌\x20<b>Coin\x20tidak\x20mencukupi\x20untuk\x20upgrade.</b>\x0a\x0aSaldo\x20Anda:\x20<b>'+o['saldo_coin']+'\x20Coin</b>\x0aHarga\x20Upgrade:\x20<b>'+k+A(0x1cb),{'parse_mode':A(0x1e1),...kembaliInlineButton});return await e[A(0x1d9)]('UPDATE\x20pengguna_userbot\x20SET\x20level\x20=\x20\x27VIP\x27,\x20saldo_coin\x20=\x20saldo_coin\x20-\x20?\x20WHERE\x20id_telegram\x20=\x20?',[k,n]),a['sendMessage'](h,q+'🎉\x20<b>Selamat!</b>\x0a\x0a'+(A(0x1e5)+o[A(0x1b5)]+A(0x1d7))+A(0x1cd)+(A(0x1c1)+(o['saldo_coin']-k)+A(0x1bd))+A(0x1e7)+('Nikmati\x20semua\x20fitur\x20eksklusif\x20dari\x20<b>@'+j+A(0x1c8)),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'⬅️\x20Kembali\x20ke\x20Menu\x20Utama','callback_data':'/start'}]]}});}await registerUpgradeAkunHandler(a,msg,c,d);},module['exports']=registerUpgradeAkunHandler;