const a0F=a0d;(function(a,b){const D=a0d,c=a();while(!![]){try{const d=-parseInt(D(0x16c))/0x1*(parseInt(D(0x18f))/0x2)+-parseInt(D(0x174))/0x3+parseInt(D(0x160))/0x4*(-parseInt(D(0x16d))/0x5)+parseInt(D(0x177))/0x6+-parseInt(D(0x16e))/0x7*(-parseInt(D(0x157))/0x8)+-parseInt(D(0x16f))/0x9*(parseInt(D(0x168))/0xa)+parseInt(D(0x169))/0xb*(parseInt(D(0x187))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x74872));function a0c(){const L=['nZe2mMHiBxzIzq','twfYA2rVD24','DxnLCM5HBwu','mZmWneTVtvrVrG','CMvWBgfJzq','vKfmsurbvevFr1jpvvbt','BwfW','Dg9vChbLCKnHC2u','y2fSBgjHy2TrDwvYEq','Dgv4Da','C2vUze1LC3nHz2u','8j+tPsaQqxv0BYbkB2LUieDYDxaQcGPlAxjPBsbKywz0yxiGDxnLCM5HBwuGz3j1Ccb5yw5NigLUz2LUigTHBxuGBwfZDwTPlcbKzw5Nyw4GzM9YBwf0ihnLCgvYDgKGAw5PoGOkqvvut0Ppsu4kqg5HBwfNCNvWmqPaBMfTywDYDxaYcKbUyw1Hz3j1CdmkcIPdyxrHDgfUihbLBNrPBMC6kGOTifbHC3rPA2fUigTHBxuGBwvUz2f3ywXPigrLBMDHBIbRyxrHicjbvvrpsK9jtIiGzgKGyMfYAxmGCgvYDgfTys4klsbhDw5HA2fUihnHDhuGDxnLCM5HBwuGCgvYigjHCMLZlGOTie1HC3vRyw4GBwfRC2LTywWGnsb1C2vYBMfTzsbWzxiGChjVC2vZicHtzxn1ywKGqxr1CMfUifrLBgvNCMfTkqOTifbHC3rPA2fUigDYDxaGyMLZysbKAwfRC2vZihb1yMXPAYbKyw4GDgLKywSGzgLRDw5JAs4klsbqyxn0AwTHBIbRyw11ihrPzgfRig1LBgvIAwHPigjHDgfZigPVAw4Gz3j1CcbKyxjPifrLBgvNCMfTlGOku2v0zwXHAcbKAwTPCMLTlcbIB3qGywTHBIbTzw12ywXPzgfZAsbKywz0yxiGDgvYC2vIDxqGzgfUig1LBwLUDgeGA29UzMLYBwfZAsb1BNr1AYbTDwXHAsbWCM9ZzxmGAM9PBI4','mJi5mdm5nNfZAfHxCq','kcGOlISPkYKRksSK','AM9PBG','4QYf77IpieTftujbteKGs0uGtufoquPftuvoifnfqKfs','C2vHCMnO','C3rKB3v0','CxvLCNK','BwvZC2fNzv9Pza','mJK4mtblyw9PBNq','mJjvy29gCwy','igDYDxaGyMvYAwT1DdOkcG','y2HHDa','mZLnEwrpv2W','nwLwCuDVDG','mti3ntrzAhzcrKG','mJuYoxPIu3ntsa','B3jPz2LUywXFzNjVBv9Pza','8j+uJsbtzwrHBMCGBwvTDMfSAwrHC2KGz3j1Ccb5yw5NigTHBxuGA2LYAw0UlI4','l21HBMfQzw1LBLnLyMfY','DgL0Bgu','nJm1ndu0q1DOwKvi','w1bzveHptIbfuLjpuL0','zxjYB3i','mJq3ndGZofH0rLzwzG','lIba','y2XVC2u','BwvZC2fNzq','z3jVDxbZ','zNjVBq','CMvWzwf0','ic0GAhr0Chm6lY90lM1LlW','4PQG77IpifrPzgfRigfKysbNCNvWihLHBMCGC2LHCcb1BNr1AYbKAxbYB3nLCY4','zwrPDe1LC3nHz2vuzxH0','Dg9tDhjPBMC','4P2mifrLCMPHzgKGA2vZywXHAgfUihnHyxqGChjVC2vZigPVAw46cG','lI4VlI4VlI4VlI4VC3LZDgvTl3nLCNzPy2vZl2f1Dg9QB2LUlwDYDxaUChK','C3rKAw4','C3rYAw5NAwz5','y29UC3rYDwn0B3i','nJq0ndq1nK5Ozw9esa','4PYfiePVAw4GzgfUifnPBxbHBG','zgf0yq','4PQG77Ipie1HA3nPBwfSigHHBNLHigjVBgvOiduGz3j1CcbWzxiGChjVC2vZigPVAw4UcLnPBgfRyw4GChjVC2vZihvSyw5NigrLBMDHBIbTywTZAw1HBca1ieb1C2vYBMfTzs4','BgvUz3rO','D3jPDgu','zw5K','4P2mifrPzgfRigrPDgvTDwTHBIbNCNvWihLHBMCGDMfSAwqGzgfYAsbKywz0yxiGEwfUzYbRyw11igTPCMLTlIbqyxn0AwTHBIbZzw11ysbaDxnLCM5HBwuGyMvUyxiGzgfUigDYDxaGyMLZysbKAwfRC2vZlG'];a0c=function(){return L;};return a0c();}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const E=a0d;return a0a[E(0x181)]()[E(0x164)]('(((.+)+)+)+$')['toString']()[E(0x186)](a0a)[E(0x164)](E(0x161));});a0a();const {spawn}=require('child_process'),path=require('path'),pythonScript=path['resolve'](__dirname,a0F(0x183)),pendingAutoJoins={},kembaliButton={'reply_markup':{'keyboard':[['‚¨ÖÔ∏è\x20KEMBALI\x20KE\x20MANAJEMEN\x20SEBAR']],'resize_keyboard':!![],'one_time_keyboard':!![]}};function runPython(a){return new Promise((b,c)=>{const G=a0d,d=spawn('python3',[pythonScript]);let e='';d[G(0x165)]['on']('data',f=>e+=f[G(0x181)]()),d['stderr']['on']('data',f=>console[G(0x176)](G(0x175),f['toString']())),d['on'](G(0x179),()=>{try{const f=JSON['parse'](e);b(f);}catch(g){console['error']('[PARSE\x20ERROR]',g),c(new Error('Gagal\x20memproses\x20respons\x20dari\x20backend.'));}}),d[G(0x184)][G(0x18c)](JSON[G(0x185)](a)),d[G(0x184)][G(0x18d)]();});}async function handleAutoJoinInput(a,b,c,d){const H=a0F,{db:e,getDataUserbot:f}=d,g=await f(),{apiId:h,apiHash:i,dbHost:j,dbPort:k,dbUser:l,dbPass:m,dbName:n}=g,o=b[H(0x17c)]['id'],p=b['chat']['id'],q=b[H(0x170)]||b['from']['id'];let r;try{const [w]=await e['query']('SELECT\x20id_telegram_dikontrol\x20FROM\x20kontrol_sessions_userbot\x20WHERE\x20id_telegram_pengontrol\x20=\x20?\x20AND\x20aktif\x20=\x20true\x20LIMIT\x201',[q]);if(w['length']>0x0)r=w[0x0]['id_telegram_dikontrol'];}catch(x){console[H(0x176)]('Gagal\x20cek\x20kontrol:',x);}finally{}const s=r||q,t=b[H(0x15d)]['split']('\x0a')['map'](y=>y['trim']()),u=t['slice'](0x1)['map'](y=>y[H(0x158)](/^@/,''))['filter'](Boolean);if(u['length']>0x5)return a[H(0x15e)](p,H(0x18a),kembaliButton);if(!u['length'])return a['sendMessage'](p,'‚ö†Ô∏è\x20Mohon\x20masukkan\x20minimal\x20satu\x20username\x20grup\x20(diawali\x20dengan\x20@,\x20satu\x20per\x20baris).',kembaliButton);const v=await a[H(0x15e)](p,H(0x171));try{const y=await runPython({'mode':H(0x159),'id_telegram':s,'groups':u,'api_id':h,'api_hash':i,'db_config':{'host':j,'user':l,'password':m,'database':n,'port':Number(k||0xcea)}});if(y['status']!=='OK'||!y['groups']['length']){await a['editMessageText'](H(0x18e),{'chat_id':p,'message_id':v['message_id'],'reply_markup':{'inline_keyboard':[[{'text':'‚¨ÖÔ∏è\x20KEMBALI\x20KE\x20MANAJEMEN\x20SEBAR','callback_data':'/manajemenSebar'}]]}});return;}pendingAutoJoins[s]=y[H(0x17b)];const z=y['groups'][H(0x15a)]((A,B)=>B+0x1+'.\x20@'+A['username']+'\x20-\x20'+A[H(0x173)])[H(0x162)]('\x0a');await a['editMessageText']('üìã\x20Berikut\x20daftar\x20grup\x20yang\x20ditemukan:\x0a\x0a'+z+'\x0a\x0aApakah\x20kamu\x20ingin\x20melanjutkan\x20proses\x20join\x20ke\x20grup-grup\x20tersebut?',{'chat_id':p,'message_id':v['message_id'],'reply_markup':{'inline_keyboard':[[{'text':H(0x188),'callback_data':'konfirmasiAutoJoin'}],[{'text':'‚ùå\x20Batal','callback_data':'batalAutoJoin'}]]}});}catch(A){await a[H(0x180)]('‚ùå\x20Terjadi\x20kesalahan\x20saat\x20validasi:\x0a'+A['message'],{'chat_id':p,'message_id':v[H(0x167)],'reply_markup':{'inline_keyboard':[[{'text':'‚¨ÖÔ∏è\x20KEMBALI\x20KE\x20MANAJEMEN\x20SEBAR','callback_data':H(0x172)}]]}});}finally{}}function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x156;let f=c[d];if(a0d['zmATNP']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['UwTPGJ']=g,a=arguments,a0d['zmATNP']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['ngBzmP']=l,this['OjGMBi']=[0x1,0x0,0x0],this['rJcmiT']=function(){return'newState';},this['oGWqKF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['wGLebB']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['PNNeln']=function(){const l=new RegExp(this['oGWqKF']+this['wGLebB']),m=l['test'](this['rJcmiT']['toString']())?--this['OjGMBi'][0x1]:--this['OjGMBi'][0x0];return this['BFdwCb'](m);},k['prototype']['BFdwCb']=function(l){if(!Boolean(~l))return l;return this['YPFXbG'](this['ngBzmP']);},k['prototype']['YPFXbG']=function(l){for(let m=0x0,n=this['OjGMBi']['length'];m<n;m++){this['OjGMBi']['push'](Math['round'](Math['random']())),n=this['OjGMBi']['length'];}return l(this['OjGMBi'][0x0]);},new k(a0d)['PNNeln'](),f=a0d['UwTPGJ'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}async function handleKonfirmasiJoin(a,b,c,d){const I=a0F,{db:e,getDataUserbot:f}=d,g=await f(),{apiId:h,apiHash:i,dbHost:j,dbPort:k,dbUser:l,dbPass:m,dbName:n}=g,o=b['message'][I(0x16b)]['id'],p=b['message'][I(0x167)],q=b['original_from_id']||b[I(0x17c)]['id'];let r;try{const [x]=await e['query']('SELECT\x20id_telegram_dikontrol\x20FROM\x20kontrol_sessions_userbot\x20WHERE\x20id_telegram_pengontrol\x20=\x20?\x20AND\x20aktif\x20=\x20true\x20LIMIT\x201',[q]);if(x[I(0x18b)]>0x0)r=x[0x0]['id_telegram_dikontrol'];}catch(y){console['error']('Gagal\x20cek\x20kontrol:',y);}finally{}const s=r||q,t=pendingAutoJoins[s];if(!t||t[I(0x18b)]===0x0)return a[I(0x180)](I(0x17f),{'chat_id':o,'message_id':p,'reply_markup':{'inline_keyboard':[[{'text':I(0x163),'callback_data':I(0x172)}]]}});await a['editMessageText']('üîÑ\x20Sedang\x20memulai\x20proses\x20join\x20ke\x20grup-grup\x20yang\x20dipilih,\x20mohon\x20tunggu...',{'chat_id':o,'message_id':p});const u=await a[I(0x15e)](o,generateProgressBar(0x0));let v=0x0;const w=setInterval(async()=>{if(v<0x5f){v+=0x2;try{await a['editMessageText'](generateProgressBar(v),{'chat_id':o,'message_id':u['message_id']});}catch{}}},0x1f4);try{const z=await runPython({'mode':'JOIN_GROUPS','id_telegram':s,'groups':t,'api_id':h,'api_hash':i,'db_config':{'host':j,'user':l,'password':m,'database':n,'port':Number(k||0xcea)}});clearInterval(w),await a['editMessageText'](generateProgressBar(0x64),{'chat_id':o,'message_id':u[I(0x167)]});const A=z['joined'][I(0x15a)]((B,C)=>C+0x1+I(0x178)+B['username']+I(0x17e)+B[I(0x156)])['join']('\x0a');await a['sendMessage'](o,'‚úÖ\x20Berhasil\x20menyimpan\x20grup\x20dan\x20bergabung\x20ke\x20'+z['joined']['length']+I(0x16a)+A,kembaliButton);}catch(B){clearInterval(w),await a[I(0x15e)](o,I(0x182)+B['message'],kembaliButton);}finally{delete pendingAutoJoins[s];}}function generateProgressBar(a){const J=a0F,b=0x14,c=Math['round'](a/0x64*b),d=b-c;return'üìà\x20Progress:\x20['+'‚ñà'['repeat'](c)+'‚ñë'[J(0x17d)](d)+']\x20'+a+'%';}module['exports']=async function autoJoinGrupHandler(a,b,c,d){const K=a0F,{db:e}=d,f=b[K(0x16b)]?.['id']||b['message']?.['chat']?.['id'];if(b['callbackQuery']){const g=b[K(0x15c)][K(0x189)];if(g==='konfirmasiAutoJoin')return handleKonfirmasiJoin(a,b[K(0x15c)]);else{if(g==='batalAutoJoin'){await a['editMessageText']('‚ùå\x20Proses\x20join\x20dibatalkan.\x20Kamu\x20bisa\x20kembali\x20dan\x20mulai\x20ulang\x20jika\x20diperlukan.',{'chat_id':b[K(0x15c)]['message'][K(0x16b)]['id'],'message_id':b['callbackQuery'][K(0x17a)]['message_id'],'reply_markup':{'inline_keyboard':[[{'text':'‚¨ÖÔ∏è\x20KEMBALI\x20KE\x20MANAJEMEN\x20SEBAR','callback_data':K(0x172)}]]}});const h=b['callbackQuery']['from']['id'];let i;try{const [l]=await e[K(0x166)]('SELECT\x20id_telegram_dikontrol\x20FROM\x20kontrol_sessions_userbot\x20WHERE\x20id_telegram_pengontrol\x20=\x20?\x20AND\x20aktif\x20=\x20true\x20LIMIT\x201',[h]);if(l[K(0x18b)]>0x0)i=l[0x0]['id_telegram_dikontrol'];}catch{}const j=i||h,k=Boolean(i);delete pendingAutoJoins[j];return;}}}if(b[K(0x15d)]&&b[K(0x15d)]['trim']()[K(0x15b)]()['startsWith']('AUTOJOIN'))return handleAutoJoinInput(a,b);await a['sendMessage'](f,K(0x15f),{'parse_mode':K(0x190),...kembaliButton});};