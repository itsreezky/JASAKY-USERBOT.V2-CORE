const a0a1=a0d;(function(a,b){const Y=a0d,c=a();while(!![]){try{const d=-parseInt(Y(0xcc))/0x1+parseInt(Y(0x9a))/0x2+parseInt(Y(0xe9))/0x3+parseInt(Y(0xc5))/0x4*(parseInt(Y(0xa3))/0x5)+-parseInt(Y(0x88))/0x6*(parseInt(Y(0x98))/0x7)+-parseInt(Y(0xe4))/0x8*(-parseInt(Y(0x8f))/0x9)+parseInt(Y(0xbe))/0xa*(-parseInt(Y(0xa7))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0xc823a));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){const Z=a0d;if(c){const e=c[Z(0xe2)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const a0=a0d;return a0a['toString']()['search'](a0(0x86))[a0(0x9b)]()['constructor'](a0a)['search']('(((.+)+)+)+$');});a0a();function a0c(){const a9=['l2DLDenOyxq/y2HHDf9Pzd1a','ndKXmJq4nwDzzgrACG','Ahr0Chm6lY9HCgKUDgvSzwDYyw0UB3jNl2zPBguVyM90','Dgv4Da','ywXS','kcGOlISPkYKRksSK','zM9YD2fYza','odGXntHQtw1RB2i','CgfNzv8','8j+tPcbqAwXPAcb0AxbLihbLC2fUihLHBMCGAw5NAw4Gqw5KysbZzwjHCJO','4PQG77IpiefUzgeGyMvSDw0GBwvTAwXPAcbNCNvWlG','A29UzMLYBwfZAv9ZAw1Wyw4','D2f0zxjTyxjR','u0vmrunuihDHDgvYBwfYAYbguK9nihbLBMDHDhvYyw5FD2f0zxjTyxjRx3vZzxjIB3qGv0HfuKuGAwqGpsa/ieXjtuLuide','mZmZvhHzExvg','C3rHCNrZv2L0Aa','DgvZDa','8j+tRcbjBMKGywrHBgfOihbYzxzPzxCGCgvZyw4GEwfUzYbHA2fUigrPA2LYAw0GA2uGz3j1CcbIzxjPA3v0oGOk','C3rLCa','AgfZ','CgvZyw4','BM9Fywn0Aw9U','C2vUzerVy3vTzw50','mte5tuTVwwnx','cGPtAwXHA2fUigTVBMzPCM1HC2K6','mZeXmdaWogfpwgXQra','Dg9tDhjPBMC','8j+tNsbuzwTZ','z3j1Cf8','Bgv2zwW','sfrnta','z2v0rMLSzq','BwvZC2fNzq','AwrFDgvSzwDYyw0','mtC5nuzZwgLdAW','C2vUze1LC3nHz2u','zgf0yq','CMvZDwX0','mJeXodC3nZfHrMDuDvK','Cgf0Aa','CMvWzwf0','DgLWzv9KB2n1BwvUDa','zwrPDe1LC3nHz2vszxbSEu1HCMT1Ca','8j+tJcbqAwXPAcbtzw11yq','yw5ZD2vYq2fSBgjHy2TrDwvYEq','BwLU','4P2mifbYB3nLCYbKAwjHDgfSA2fUlIbuAwrHAYbHzgeGzgf0ysb5yw5NigrPC2LTCgfUlG','BMfTyv9NCNvW','4PYfifnLBxvHigDYDxaGzgLWAwXPAce','ywrK','BM93','4QYf77IpieTftujbteKGs0uGtufoquPftuvoifnfqKfs','8j+AQYbgAxr1CIbOyw55ysb0zxjZzwrPysb1BNr1AYbwsvaGyxrHDsbbzg1PBMLZDhjHDg9YlG','4QYf77IpieTftujbteKGs0uGuevor0fuvvjbtIbtrujbuG','4O+Zie1VAg9Uihr1BMDNDsWGC2vKyw5Nig1LBMfTyMfOA2fUigDYDxaUlI4','zxHWB3j0CW','zMLSzv9WyxrO','8j+tUcbtAwXHA2fUihvUz2DHAcbMB3rVihLHBMCGAw5NAw4GzgLZzwjHCMTHBIaOzM9YBwf0ic5QCgCSic5WBMCP','y2HHDa','C3bSAxq','CxvLCNK','mtbswMD1uLO','zxjYB3i','C2vSzwn0zwrhCM91Chm','cIaGicaGifnftevdvcbPzf90zwXLz3jHBv9KAwTVBNrYB2WGrLjptsbRB250CM9Sx3nLC3nPB25Zx3vZzxjIB3qkicaGicaGv0HfuKuGAwrFDgvSzwDYyw1FCgvUz29UDhjVBca9id8Gqu5eigfRDgLMid0GDhj1zqOGicaGicbmsu1jvcaXcIaGica','DgfTyMfOlwXPC3q','DgLWzv8','C3rYzwfT','nZm1nM1NrwnwwG','ChvZAa','r0vu','4PYp77IpifnPBgfRyw4GBwfZDwTRyw4Gy2fWDgLVBIb1BNr1AYbKB2T1BwvUigLUAtO','DgLWzq','4PYfieDYDxaGzgLWzxjIyxj1Ase','CgfNzq','mtq1odqYm1HksKngEG','4P2mieDHz2fSig1LBxvHDcbRB250CM9SigfRDgLMigrHCMKGzgf0ywjHC2u6','CM93CW','lI4VlI4VlI4VlI4VDxbSB2fKCY8','Dg9Rzw4','CgHVDg8','DgL0Bgu','4PYfifnLBgvZywKGtwvTAwXPAa','sKftrui','4O+Zie1VAg9Uihr1BMDNDsWGC2vKyw5Nig1LBxbYB3nLCYbKB2T1BwvUic4UlG','Bwf0y2G','BgvUz3rO','y2fSBgjHy2TFCxvLCNK','cGPtzw11ysbNCNvWigjLCMHHC2LSigrPC2LTCgfUiq','zxHLy3v0zq','DgLWzv90zxH0','zNjVBq','AM9PBG','4P2miejHDgfS','u0vmrunuig5HBwfFz3j1CcbguK9nigDYDxbFC2vIyxjFDxnLCMjVDcbxsevsrsbPzcbjtIaO','zg9JDw1LBNq','lI4VlI4VlI4VlI4VC3LZDgvTl2HLBhbLCNmVCgfYC2vuB0HutuXizwXWzxjZ','yxbWBhK','BwfW','mtmWmdqWAwzRAg1v','A29UzMLYBwfZAv9IyxrHBa','z2v0','4P2mifDHDgvYBwfYAYboB25HA3rPzIaOs2XPAYb1BNr1AYbHA3rPzMTHBIK'];a0c=function(){return a9;};return a0c();}function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x86;let f=c[d];if(a0d['SQTCnk']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['ygGeKd']=g,a=arguments,a0d['SQTCnk']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['Hppyij']=l,this['emhXgx']=[0x1,0x0,0x0],this['kgtKkq']=function(){return'newState';},this['FpbEkd']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['vQGSSD']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['WtXQqI']=function(){const l=new RegExp(this['FpbEkd']+this['vQGSSD']),m=l['test'](this['kgtKkq']['toString']())?--this['emhXgx'][0x1]:--this['emhXgx'][0x0];return this['ivOFJu'](m);},k['prototype']['ivOFJu']=function(l){if(!Boolean(~l))return l;return this['NVFDLZ'](this['Hppyij']);},k['prototype']['NVFDLZ']=function(l){for(let m=0x0,n=this['emhXgx']['length'];m<n;m++){this['emhXgx']['push'](Math['round'](Math['random']())),n=this['emhXgx']['length'];}return l(this['emhXgx'][0x0]);},new k(a0d)['WtXQqI'](),f=a0d['ygGeKd'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}const fs=require('fs'),path=require(a0a1(0xa8)),axios=require('axios'),parseToHTMLHelpers=require(a0a1(0xe1)),userSessions={},activeListeners=new Set();function generateIdSebar(){return Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();}function generateProgressBar(a,b){const a2=a0a1,c=0xa,d=Math['round'](a/b*c),e=c-d,f='â–ˆ'[a2(0xa9)](d)+'â–‘'['repeat'](e),g=Math['round'](a/b*0x64);return'['+f+']\x20'+g+'%\x20('+a+'/'+b+'\x20grup)';}function generateGroupButtons(a,b,c=0x1,d=0xa){const a3=a0a1,e=(c-0x1)*d,f=a['slice'](e,e+d),g=f[a3(0xe3)](i=>{const a4=a3,j=b['includes'](String(i['id']));return[{'text':j?'âœ…\x20'+i['nama_grup']:i[a4(0xb0)],'callback_data':'grup_'+i['id']}];}),h=[];return c>0x1&&h[a3(0xc6)]({'text':'â¬…ï¸\x20Sebelumnya','callback_data':a3(0x89)+(c-0x1)}),e+d<a[a3(0xd7)]&&h[a3(0xc6)]({'text':'â¡ï¸\x20Berikutnya','callback_data':a3(0x89)+(c+0x1)}),h['length']>0x0&&g[a3(0xc6)](h),g['push']([{'text':a3(0xd3),'callback_data':'selesai_grup'},{'text':a3(0xac),'callback_data':'pilih_semua'}]),g[a3(0xc6)]([{'text':a3(0xb4),'callback_data':'/manajemenSebar'}]),g;}const kembaliInlineButton=[[{'text':a0a1(0xb6),'callback_data':'/pengaturanSebar'}]];module[a0a1(0xb8)]=async function(a,b,c,d){const a5=a0a1;if(activeListeners[a5(0x94)](a5(0xc2)))return;activeListeners[a5(0xb2)]('tambah-list');const {db:e}=d,f=b[a5(0xbb)]['id'],g=b['original_from_id']||b[a5(0xdc)]['id'];let h;try{const [n]=await e[a5(0xbd)](a5(0xc1),[g]);n[a5(0xd7)]>0x0&&(h=n[0x0]['id_telegram_dikontrol']);}catch(o){console[a5(0xbf)](a5(0xcd),o);}finally{}const i=h||g,[j]=await e['execute']('SELECT\x20level\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?',[i]);if(!j[a5(0xd7)])return a['sendMessage'](f,'âŒ\x20Anda\x20belum\x20terdaftar\x20sebagai\x20pengguna.\x20Silakan\x20hubungi\x20admin.',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});const k=j[0x0][a5(0x9e)];userSessions[f]={'step':0x1,'id_telegram':i,'level':k,'page':0x1,'selectedGroups':[]};const [l]=await e[a5(0xda)]('SELECT\x20id,\x20nama_grup\x20FROM\x20grup_sebar_userbot\x20WHERE\x20id_telegram\x20=\x20?',[i]);if(!l[a5(0xd7)])return a['sendMessage'](f,'âŒ\x20Tidak\x20ada\x20grup\x20tersedia\x20untuk\x20disebarkan.',{'parse_mode':a5(0x9f),'reply_markup':{'inline_keyboard':kembaliInlineButton}});userSessions[f]['rows']=l;const m=generateGroupButtons(l,[],0x1);a['sendMessage'](f,'ğŸ—‚\x20Silakan\x20pilih\x20satu\x20atau\x20beberapa\x20grup\x20sebagai\x20target\x20sebaran.',{'reply_markup':{'inline_keyboard':m},'parse_mode':'HTML'}),a['on'](a5(0xd8),async p=>{const a6=a5,q=p['message'],r=q['chat']['id'],s=q['original_from_id']||q[a6(0xdc)]['id'];let t;try{const [x]=await e['query'](a6(0xc1),[s]);x['length']>0x0&&(t=x[0x0]['id_telegram_dikontrol']);}catch(y){console[a6(0xbf)]('âŒ\x20Gagal\x20memuat\x20kontrol\x20aktif\x20dari\x20database:',y);}finally{}const u=t||s,v=p['data'],w=userSessions[r];if(v[a6(0x90)](a6(0x9d))){const z=v['split']('_')[0x1];w[a6(0xc0)]['includes'](z)?w[a6(0xc0)]=w[a6(0xc0)]['filter'](B=>B!==z):w['selectedGroups'][a6(0xc6)](z);const A=generateGroupButtons(w[a6(0xce)],w['selectedGroups'],w['page']);return await a['editMessageReplyMarkup']({'inline_keyboard':A},{'chat_id':r,'message_id':q['message_id']}),a[a6(0xad)](p['id'],{'text':a6(0xca)});}if(v[a6(0x90)]('page_')){const B=Number(v['split']('_')[0x1]);w[a6(0xcb)]=B;const C=generateGroupButtons(w[a6(0xce)],w[a6(0xc0)],B);return await a[a6(0xab)]({'inline_keyboard':C},{'chat_id':r,'message_id':q['message_id']}),a[a6(0xad)](p['id']);}if(v==='pilih_semua'){w[a6(0xc0)]=w[a6(0xce)]['map'](E=>String(E['id']));const D=generateGroupButtons(w[a6(0xce)],w['selectedGroups'],w['page']);return await a[a6(0xab)]({'inline_keyboard':D},{'chat_id':r,'message_id':q['message_id']}),a[a6(0xad)](p['id'],{'text':a6(0xb1)});}if(v==='selesai_grup'){if(!w['selectedGroups']['length'])return a['sendMessage'](r,a6(0x8b),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});await a[a6(0xa4)](r,a6(0xb7)),w['step']=0x2;let E=[];if(w[a6(0x9e)]==='MEMBER')E=[[{'text':'ğŸ“\x20Teks','callback_data':a6(0xdb)}]];else(w['level']==='VIP'||w[a6(0x9e)]==='JASEB'||w['level']==='Administrator')&&(E=[[{'text':a6(0x9c),'callback_data':'tipe_text'}],[{'text':'ğŸ–¼ï¸\x20Foto','callback_data':'tipe_photo'}],[{'text':'ğŸ“\x20Dokumen','callback_data':a6(0xaa)}],[{'text':'ğŸ”\x20Forward','callback_data':'tipe_forward'}]]);a[a6(0xa4)](r,a6(0x8a),{'reply_markup':{'inline_keyboard':E}});}if(v==='toggle_watermark')return w[a6(0x8d)]=!w[a6(0x8d)],a[a6(0xab)]({'inline_keyboard':[[{'text':w[a6(0x8d)]?'âœ…\x20Watermark\x20Aktif\x20(Klik\x20untuk\x20matikan)':'âŒ\x20Watermark\x20Nonaktif\x20(Klik\x20untuk\x20aktifkan)','callback_data':'toggle_watermark'}]]},{'chat_id':r,'message_id':q['message_id']});if(v==='no_action')return a[a6(0xad)](p['id'],{'text':a6(0xb5)});if(v['startsWith'](a6(0xc3))){const F=v[a6(0xbc)]('_')[0x1];if((F===a6(0xd1)||F==='document')&&!(w[a6(0x9e)]==='VIP'||w['level']==='Administrator'||w[a6(0x9e)]===a6(0xd4)))return a[a6(0xa4)](r,'ğŸš«\x20Fitur\x20unggah\x20foto\x20dan\x20dokumen\x20hanya\x20tersedia\x20untuk\x20pengguna\x20*VIP*\x20&\x20*JASEB*.',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});const [G]=await e[a6(0xda)]('SELECT\x20watermark\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?',[u]),H=G[0x0]?.['watermark'],I=w[a6(0x9e)]==='VIP'||w['level']==='Administrator',J=w['level']==='JASEB';w['step']=0x3,w[a6(0xc9)]=F;H===undefined||H===null?w[a6(0x8d)]=w[a6(0x9e)]==='MEMBER':w[a6(0x8d)]=H===0x1;if(w[a6(0xc9)]===a6(0x87))await a[a6(0xa4)](r,'âš ï¸\x20Untuk\x20tipe\x20<b>forward</b>,\x20pengaturan\x20watermark\x20tidak\x20tersedia.',{'parse_mode':'HTML'});else{const K=[];I?(a['sendMessage'](r,'âš ï¸\x20Silahkan\x20atur\x20watermark\x20untuk\x20list\x20sebar\x20ini.'),K['push']([{'text':w[a6(0x8d)]?'âœ…\x20Watermark\x20Aktif\x20(Klik\x20untuk\x20matikan)':a6(0xe7),'callback_data':'toggle_watermark'}])):K[a6(0xc6)]([{'text':'â„¹ï¸\x20Watermark\x20Aktif\x20-\x20Upgrade\x20ke\x20VIP\x20Mengubah.','callback_data':a6(0x96)}]),await a['sendMessage'](r,'ğŸ’§\x20Pengaturan\x20Watermark:',{'reply_markup':{'inline_keyboard':K}});}if(F==='text')a[a6(0xa4)](r,'âœï¸\x20Silakan\x20ketik\x20pesan\x20teks\x20yang\x20ingin\x20disebarkan');else{if(F==='photo')a[a6(0xa4)](r,a6(0xba));else{if(F===a6(0xe0))a['sendMessage'](r,'ğŸ“„\x20Silakan\x20unggah\x20dokumen\x20yang\x20ingin\x20disebarkan\x20(PDF,\x20DOCX,\x20dll)');else F==='forward'&&a['sendMessage'](r,'ğŸ”\x20Kirimkan\x20link\x20pesan\x20Telegram\x20yang\x20ingin\x20diforward\x20(contoh:\x20https://t.me/username/123456)');}}}if(v===a6(0x8c))try{const L=generateIdSebar(),M=w['selectedGroups']['length'],N=await a[a6(0xa4)](r,'â³\x20Memulai\x20proses\x200/'+M+'\x20grup...'),O=0xa;for(let P=0x0;P<M;P+=O){const Q=w['selectedGroups']['slice'](P,P+O),R=w[a6(0x8d)]?'ON':'OFF',S=Q[a6(0xe3)](U=>e[a6(0xda)]('INSERT\x20INTO\x20list_sebar_userbot\x20(id_telegram,\x20id_grup,\x20id_sebar,\x20tipe_pesan,\x20pesan,\x20file_path,\x20watermark_text)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[w[a6(0xa2)],U,L,w['tipe'],w['pesan']||null,w[a6(0xb9)]||null,R]));await Promise[a6(0xec)](S);const T=Math[a6(0xae)](P+Q[a6(0xd7)],M);await a['editMessageText']('â³\x20'+generateProgressBar(T,M),{'chat_id':r,'message_id':N['message_id']});}await a['editMessageText']('âœ…\x20'+generateProgressBar(M,M)+a6(0xd9),{'chat_id':r,'message_id':N['message_id']}),await a['sendMessage'](r,'âœ…\x20Data\x20berhasil\x20disimpan\x20ke\x20daftar\x20sebar!',{'parse_mode':a6(0x9f),'reply_markup':{'inline_keyboard':kembaliInlineButton}}),delete userSessions[r];}catch(U){console['error'](U),a[a6(0xa4)](r,'âŒ\x20Gagal\x20menyimpan\x20ke\x20database.',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});}finally{delete userSessions[r];}v===a6(0xe5)&&(a[a6(0xa4)](r,a6(0xaf),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}}),delete userSessions[r]);if(q[a6(0xeb)]==='â¬…ï¸\x20KEMBALI\x20KE\x20MANAJEMEN\x20SEBAR')return delete userSessions[r],a['sendMessage'](r,'ğŸ”™\x20Anda\x20telah\x20kembali\x20ke\x20menu\x20Manajemen\x20Sebar.\x20Sesi\x20sebelumnya\x20telah\x20dibatalkan.');}),a['on'](a5(0xa1),async p=>{const a7=a5,q=p[a7(0xbb)]['id'],r=userSessions[q];if(!r||!r[a7(0x93)]||r['step']<0x3)return;if(r['tipe']==='text'&&r['step']===0x3&&p['text']){r['pesan']=parseToHTMLHelpers(p);let s=r[a7(0x95)];if(r[a7(0x8d)])try{const u=r[a7(0x9e)]==='JASEB'?0x2:0x1,[v]=await e[a7(0xda)](a7(0x8e),[u]);v['length']>0x0&&v[0x0]['watermark']&&(s+='\x0a\x0a'+v[0x0][a7(0x8d)]);}catch(w){console[a7(0xbf)]('âŒ\x20Gagal\x20ambil\x20watermark:',w);}finally{}r['step']=0x5;function t(x){return new Promise(y=>setTimeout(y,x));}return a['sendMessage'](q,'ğŸ“¢\x20Ini\x20adalah\x20isi\x20pesan\x20teks\x20Anda:\x0a\x0a'+s,{'parse_mode':a7(0x9f)}),await t(0x3e8),a[a7(0xa4)](q,'ğŸ“¬\x20Silakan\x20konfirmasi\x20pesan\x20teks\x20berikut',{'reply_markup':{'inline_keyboard':[[{'text':'âœ…\x20Simpan','callback_data':'konfirmasi_simpan'},{'text':'âŒ\x20Batal','callback_data':'konfirmasi_batal'}]]}});}if(r[a7(0xc9)]===a7(0xd1)&&r['step']===0x3&&p['photo']){const x=p['photo'][p['photo'][a7(0xd7)]-0x1],y=await a[a7(0xa0)](x['file_id']),z='https://api.telegram.org/file/bot'+a['token']+'/'+y[a7(0xb9)],A=path['extname'](y['file_path']),B=path['join'](__dirname,a7(0xcf)+Date['now']()+'_'+x['file_id']+A);await a['sendMessage'](q,'â³\x20Mohon\x20tunggu,\x20sedang\x20memproses\x20foto\x20...');const C=await axios({'url':z,'method':a7(0xc7),'responseType':a7(0xc4)});await new Promise((D,E)=>{const a8=a7,F=fs['createWriteStream'](B);C[a8(0xa5)]['pipe'](F),F['on']('finish',D),F['on'](a8(0xbf),E);}),r['file_path']=B,r['step']=0x4,a[a7(0xa4)](q,'âœï¸\x20Silakan\x20masukkan\x20caption\x20untuk\x20foto\x20ini');}if(r['tipe']==='document'&&r['step']===0x3&&p[a7(0xe0)]){const D=await a['getFile'](p[a7(0xe0)]['file_id']),E=a7(0xea)+a[a7(0xd0)]+'/'+D['file_path'],F=path[a7(0xdd)](__dirname,'../../../../uploads/'+Date[a7(0xb3)]()+'_'+p[a7(0xe0)]['file_name']);await a['sendMessage'](q,a7(0xd5));const G=await axios({'url':E,'method':'GET','responseType':'stream'});await new Promise((H,I)=>{const J=fs['createWriteStream'](F);G['data']['pipe'](J),J['on']('finish',H),J['on']('error',I);}),r[a7(0xb9)]=F,r['step']=0x4,a['sendMessage'](q,a7(0xc8));}if(r['tipe']==='forward'&&r['step']===0x3&&p[a7(0xeb)]){const H=p['text']['trim']();if(!/^https:\/\/t\.me\/[\w\d_]+\/\d+$/[a7(0x91)](H))return a['sendMessage'](q,'âš ï¸\x20Format\x20link\x20tidak\x20valid.\x20Contoh:\x20https://t.me/channel/12345',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});r[a7(0x95)]=H,r[a7(0x93)]=0x5,await a['sendMessage'](q,'â³\x20Mohon\x20tunggu,\x20sedang\x20menyiapkan\x20preview\x20...');try{const I=H[a7(0xd6)](/^https:\/\/t\.me\/(\w+)\/(\d+)$/),J=I[0x1],K=await axios[a7(0xe6)]('https://api.telegram.org/bot'+a['token']+a7(0xe8)+J),L=K['data'][a7(0xa6)][a7(0xd2)]||J,M='ğŸ”\x20<b>Preview\x20Pesan\x20Forward</b>\x0a\x0ağŸ“¢\x20<b>Dari\x20Channel:</b>\x20'+L+'\x0ağŸ”—\x20<b>Link:</b>\x20'+H;await a['sendMessage'](q,M,{'parse_mode':'HTML'});const [N]=await e[a7(0xda)]('SELECT\x20nama_grup\x20FROM\x20grup_sebar_userbot\x20WHERE\x20id\x20IN\x20('+r['selectedGroups']['map'](()=>'?')[a7(0xdd)](',')+')',r['selectedGroups']),O=N[a7(0xe3)](P=>'â€¢\x20'+P['nama_grup'])[a7(0xdd)]('\x0a');await a[a7(0xa4)](q,a7(0x92)+O+a7(0x99),{'reply_markup':{'inline_keyboard':[[{'text':'âœ…\x20Simpan','callback_data':a7(0x8c)},{'text':a7(0xde),'callback_data':'konfirmasi_batal'}]]},'parse_mode':a7(0x9f)});}catch(P){console[a7(0xbf)]('âŒ\x20Gagal\x20ambil\x20preview:',P['message']),await a[a7(0xa4)](q,'âŒ\x20Gagal\x20mengambil\x20preview\x20dari\x20link.\x20Pastikan\x20link\x20valid\x20dan\x20channel\x20bisa\x20diakses.',{'parse_mode':a7(0x9f),'reply_markup':{'inline_keyboard':kembaliInlineButton}});}finally{}}if(r[a7(0x93)]===0x4&&p['text']&&r[a7(0xc9)]!==a7(0xeb)){r['pesan']=parseToHTMLHelpers(p);let Q=r['pesan'];if(r['watermark'])try{const U=r['level']===a7(0xd4)?0x2:0x1,[V]=await e[a7(0xda)]('SELECT\x20watermark\x20FROM\x20pengaturan_watermark_userbot\x20WHERE\x20id\x20=\x20?\x20LIMIT\x201',[U]);V['length']>0x0&&V[0x0]['watermark']&&(Q+='\x0a\x0a'+V[0x0]['watermark']);}catch(W){console[a7(0xbf)]('âŒ\x20Gagal\x20ambil\x20watermark:',W);}finally{}r['step']=0x5,await a[a7(0xa4)](q,'â³\x20Mohon\x20tunggu,\x20sedang\x20menyiapkan\x20preview\x20...');const R={'caption':Q,'parse_mode':'HTML'};if(r['tipe']==='photo')await a['sendPhoto'](q,fs['createReadStream'](r['file_path']),R);else r['tipe']==='document'&&await a[a7(0x97)](q,fs['createReadStream'](r['file_path']),R);const [S]=await e['execute'](a7(0xdf)+r[a7(0xc0)][a7(0xe3)](()=>'?')['join'](',')+')',r['selectedGroups']),T=S[a7(0xe3)](X=>'â€¢\x20'+X['nama_grup'])[a7(0xdd)]('\x0a');return a[a7(0xa4)](q,'ğŸ“¬\x20Ini\x20adalah\x20preview\x20pesan\x20yang\x20akan\x20dikirim\x20ke\x20grup\x20berikut:\x0a\x0a'+T+a7(0x99),{'reply_markup':{'inline_keyboard':[[{'text':'âœ…\x20Simpan','callback_data':a7(0x8c)},{'text':a7(0xde),'callback_data':'konfirmasi_batal'}]]},'parse_mode':a7(0x9f)});}if(p['text']==='â¬…ï¸\x20KEMBALI\x20KE\x20MANAJEMEN\x20SEBAR')return delete userSessions[q],a['sendMessage'](q,'â¬…ï¸\x20KEMBALI\x20KE\x20MANAJEMEN\x20SEBAR',{'reply_markup':{'remove_keyboard':!![]}});});};