const a0Y=a0d;(function(a,b){const W=a0d,c=a();while(!![]){try{const d=parseInt(W(0x186))/0x1+parseInt(W(0x181))/0x2*(parseInt(W(0x171))/0x3)+-parseInt(W(0x182))/0x4+-parseInt(W(0x18b))/0x5*(-parseInt(W(0x170))/0x6)+parseInt(W(0x166))/0x7*(parseInt(W(0x17d))/0x8)+parseInt(W(0x17c))/0x9+parseInt(W(0x17b))/0xa*(-parseInt(W(0x16e))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x2501c));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const X=a0d;return a0a['toString']()['search'](X(0x16b))[X(0x189)]()[X(0x17f)](a0a)[X(0x185)]('(((.+)+)+)+$');});function a0c(){const a2=['zxjYB3i','mtyZmtnqA0ztse8','zNjVBq','nJK3mdGWzxbevM9Z','m1fjsfvuBW','BgfZDf9Uyw1L','CxvLCNK','DhjPBq','zw50CMLLCW','4P2mifrLCMPHzgKGA2vZywXHAgfUihnHyxqGBwvTChjVC2vZihrYAwfSlG','reqGtu1ntsbzwvLzieHioM1T','pc9IpIeG8j+oIqPbA3nLCYb0CMLHBcbRyw11ihnLyMfNywKGpgi+twvTyMvYpc9IpIb0zwXHAcbHA3rPzIbZzwXHBweGmsbOyxjPlGOk8j+uKca8yJ5uB2TLBIbmB2DPBJO8l2i+cJXJB2rLpG','cGNILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILidILjak8j+NKEkaJFcFKRWGtg9NAw4GC2vIywDHAtOGE2z1BgXoyw1LFqOGu3rHDhvZoIbuzxj2zxjPzMLRyxnPiokCHqRWN5ofifnPC2eGBwfZysbHA3rPzJOGE3nPC2fnyxnHqwT0Awz9cUkuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGaOk8j+rIYbiywXVihTMDwXStMfTzx0ku2vUyw5Nig1LBgLOyxrTDsbKAsb7zgLZCgXHEvvZzxjUyw1LqM90FsdWN46jcKjLCMLRDxqGCMLUz2THC2fUihLHBMCGywrHigrPie1LBNuGDxrHBweGC2LZDgvTigLUAs4kcVcFLlKG8j+pOcbit01fcIaGiokaOIbiywXHBwfUihv0yw1HigjVDc4k4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4PsycVcFLlKG8j+tIYbequzuqviGtuvovqOGicdIGkiGrgfMDgfYig1LBNuGzML0DxiGEwfUzYb0zxjZzwrPys4k4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4PsycVcFLlKG4Os577IpieLorK9stuftssbqru5hr1voqufocIaGiokaOIbqyw5KDwfUihbLBMDNDw5Hyw4GyM90igLUAs4k4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4PsycGRWN5oDifnPBgfRyw4GA2XPAYbZywXHAcbZyxr1ihrVBwjVBcbKAsbIyxDHAcb1BNr1AYbTDwXHAsbTzw5Nz3vUywTHBIbMAxr1CIb5yw5NihrLCNnLzgLHlGOj','pc9IpIbxsuikcVcFK4WGpgK+vhjPywWGAgfUEweGzgLIzxjPA2fUidf4ihvUDhvRihnLDgLHCcbWzw5Nz3vUytWVAt4GzgvTAsbRzwfKAwXHBIbKyw4GA2vUEwfTyw5HBIbZzw11ysbWAwHHAY4kcUkCQcbjBMDPBIbSyw5QDxqGBwvUz2D1BMfRyw4GzML0DxiGBgvUz2THCd8ku2LSywTHBIbIzxjNywj1BMCGC2vIywDHAsa8yJ5nzw1IzxiGuMvZBwK8l2i+ig1LBgfSDwKGBwvUDsa8yJ7WN5Usifrps088l2i+lGOjcqKj','nZmWEfnHq0jx','odiZmdiZsMDxBwrN','mtaWmhDZBgncza','zgf5','y29UC3rYDwn0B3i','cJXIpVcFMQSGvhjPywWGu3vKywGGugvYBMfOierPz3vUywTHBJWVyJ4kcKHHAsa8yJ4','mtKWmZq4vffjt1bv','nZmXotKYrxrqtvLf','4P2mievYCM9YihrYAwfSoG','BwvZC2fNzq','C2vHCMnO','odqXnJf5ueLfBMO','zM9YBwf0','DxnLCM5HBwu','Dg9tDhjPBMC','su5trvjuieLove8GCML3yxLHDf90CMLHBf91C2vYyM90icHPzf90zwXLz3jHBsWGD2fRDhvFDhjPywWSigfRAgLYx3rYAwfSlcbZDgf0DxnFDhjPywWPcGKjcqKGvKfmvuvticG/lca/lca/lca/kq','nuferKT5vq','yw5ZD2vYq2fSBgjHy2TrDwvYEq','sfrnta','mZeYovvqsMPIuW','8j+AQYblyw11ihn1zgfOihbLCM5HAcbTzw5Nyw1IAwWGDhjPywWU','ywT0Awy','C2vUze1LC3nHz2u','4QYf77IpieTLBwjHBgK','kcGOlISPkYKRksSK','tuvnqKvs'];a0c=function(){return a2;};return a0c();}a0a();const moment=require('moment'),kembaliButton={'reply_markup':{'inline_keyboard':[[{'text':a0Y(0x16a),'callback_data':'/start'}]]}};function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x166;let f=c[d];if(a0d['XBfPjD']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['mJNLWO']=g,a=arguments,a0d['XBfPjD']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['rnerzd']=l,this['zWKHFT']=[0x1,0x0,0x0],this['LABLNU']=function(){return'newState';},this['WjESvZ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['aVhsIB']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['qLwxjP']=function(){const l=new RegExp(this['WjESvZ']+this['aVhsIB']),m=l['test'](this['LABLNU']['toString']())?--this['zWKHFT'][0x1]:--this['zWKHFT'][0x0];return this['ljnxEU'](m);},k['prototype']['ljnxEU']=function(l){if(!Boolean(~l))return l;return this['rfuFks'](this['rnerzd']);},k['prototype']['rfuFks']=function(l){for(let m=0x0,n=this['zWKHFT']['length'];m<n;m++){this['zWKHFT']['push'](Math['round'](Math['random']())),n=this['zWKHFT']['length'];}return l(this['zWKHFT'][0x0]);},new k(a0d)['qLwxjP'](),f=a0d['mJNLWO'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}async function trialHandler(a,b,c,d){const Z=a0Y,{db:e,getDataUserbot:f}=d,g=await f(),h=!!b[Z(0x184)],i=h?b['message']:b,j=i['chat']['id'],k=b[Z(0x16f)]['id'],l=b[Z(0x16f)],m=l['first_name']||'',n=l[Z(0x172)]||'',o=(m+'\x20'+n)[Z(0x174)](),p=l[Z(0x188)]?'@'+l['username']:'',q=o,r=k,{usernamePemilik:s,usernameBot:t,lisensiPaket:u,teksTrial:v,hargaMember:w,hargaMemberRp:x,hargaJaseb:y,hargaJasebRp:z,hargaVIP:A,hargaVIPRp:B,hargaSewaAdmin:C,hargaSewaAdminRp:D,hargaLifetimeAdmin:E,hargaLifetimeAdminRp:F,hargaKontrolAkun:G,hargaKontrolAkunRp:H,hargaSlotKontrol:I,hargaSlotKontrolRp:J,hargaUpgradeAkun:K,hargaUpgradeAkunRp:L}=g,M=v==='template'?getTemplateTrial():v,N=replacePlaceholders(M,{'{namaPengguna}':q,'{usernamePengguna}':p,'{idTelegramPengguna}':r[Z(0x189)](),'{usernameBot}':'@'+t,'{displayUsernameBot}':'@'+t['toUpperCase'](),'{owner}':''+s,'{hargaMember}':''+w,'{hargaMemberRp}':''+x,'{hargaJaseb}':''+y,'{hargaJasebRp}':''+z,'{hargaVIP}':''+A,'{hargaVIPRp}':''+B,'{hargaSewaAdmin}':''+C,'{hargaSewaAdminRp}':''+D,'{hargaLifetimeAdmin}':''+E,'{hargaLifetimeAdminRp}':''+F,'{hargaKontrolAkun}':''+G,'{hargaKontrolAkunRp}':''+H,'{hargaSlotKontrol}':''+I,'{hargaSlotKontrolRp}':''+J,'{hargaUpgradeAkun}':''+K,'{hargaUpgradeAkunRp}':''+L});try{const [O]=await e['query']('SELECT\x20*\x20FROM\x20riwayat_trial_userbot\x20WHERE\x20id_telegram\x20=\x20?',[k]);if(h){if(O['length']>0x0){await a[Z(0x18c)](b['id'],{'text':Z(0x167),'show_alert':!![]});return;}const P=moment()[Z(0x187)]('YYYY-MM-DD\x20HH:mm:ss'),Q=moment()['add'](0x1,Z(0x17e))['format']('YYYY-MM-DD\x20HH:mm:ss'),R='TRIAL-'+k;await e['query'](Z(0x18a),[k,P,Q,Z(0x168)]),await e[Z(0x173)]('INSERT\x20INTO\x20token_login_userbot\x20(token,\x20id_telegram,\x20pembuat_token,\x20sudah_dipakai,\x20lifetime,\x20dibuat_pada,\x20kadaluarsa_pada,\x20level,\x20coin)\x0a\x09\x09\x09\x09\x20VALUES\x20(?,\x20?,\x20?,\x200,\x200,\x20?,\x20?,\x20?,\x20?)',[R,k,'JASAKY_ID',P,Q,Z(0x16c),0x0]);const S=moment(P)['format']('DD\x20MMMM\x20YYYY\x20HH:mm'),T=moment(Q)[Z(0x187)]('DD\x20MMMM\x20YYYY\x20HH:mm');await a[Z(0x169)](j,('\x0a<b>✅\x20Trial\x20Berhasil\x20Diaktifkan!</b>\x0a\x0aSelamat,\x20<b>'+q+Z(0x178)+R+'</code>\x0a\x0a📅\x20<b>Dibuat:</b>\x20'+S+'\x20WIB\x0a⏳\x20<b>Berlaku\x20sampai:</b>\x20'+T+'\x20WIB\x0a\x0a👉\x20Gunakan\x20token\x20ini\x20untuk\x20login\x20melalui\x20menu:\x20<b>🔑\x20TOKEN\x20LOGIN\x20🔑</b>\x0a\x0a⚠️\x20Trial\x20hanya\x20berlaku\x201x\x20untuk\x20setiap\x20akun\x20Telegram.\x0a\x09\x09\x09\x09')['trim'](),{'parse_mode':Z(0x18d),...kembaliButton}),await a['answerCallbackQuery'](b['id']);return;}if(O['length']>0x0){const U=moment(O[0x0]['akhir_trial'])[Z(0x187)](Z(0x177));await a[Z(0x169)](j,(Z(0x180)+q+'</b>!\x20👋\x0a\x0aKami\x20mendeteksi\x20bahwa\x20kamu\x20sudah\x20pernah\x20mengaktifkan\x20trial\x20sebelumnya,\x20dan\x20masa\x20aktifnya\x20berakhir\x20pada:\x0a\x0a📅\x20<b>'+U+Z(0x17a))['trim'](),{'parse_mode':Z(0x18d),...kembaliButton});}else await a['sendMessage'](j,(''+N)[Z(0x174)](),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'✅\x20AKTIFKAN\x20TRIAL','callback_data':'confirm_trial_'+k},{'text':'⬅️\x20KEMBALI','callback_data':'/start'}]]}});}catch(V){console['error'](Z(0x183),V),console[Z(0x16d)]('❌\x20Error\x20trial:',V[Z(0x184)]),await a['sendMessage'](j,Z(0x176),kembaliButton);}}module['exports']=trialHandler,trialHandler['onCallbackQuery']=async(a,b,c,d)=>{await trialHandler(a,b,c,d);};function replacePlaceholders(a,b){const a0=a0Y;for(const [c,d]of Object[a0(0x175)](b)){a=a['replaceAll'](c,d);}return a;}function getTemplateTrial(){const a1=a0Y;return a1(0x179);}