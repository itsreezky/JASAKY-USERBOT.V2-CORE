const a0A=a0d;(function(a,b){const w=a0d,c=a();while(!![]){try{const d=-parseInt(w(0xf4))/0x1+parseInt(w(0xee))/0x2+-parseInt(w(0xe3))/0x3*(parseInt(w(0x101))/0x4)+-parseInt(w(0xe4))/0x5+parseInt(w(0xef))/0x6+parseInt(w(0xe5))/0x7+parseInt(w(0xf3))/0x8*(parseInt(w(0xf7))/0x9);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x88baf));function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0xda;let f=c[d];if(a0d['ATZXJZ']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['dImJng']=g,a=arguments,a0d['ATZXJZ']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['ZiKmup']=l,this['jbGPIQ']=[0x1,0x0,0x0],this['pfdWOZ']=function(){return'newState';},this['ZBEYxb']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['lQkQiz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['fcxuVP']=function(){const l=new RegExp(this['ZBEYxb']+this['lQkQiz']),m=l['test'](this['pfdWOZ']['toString']())?--this['jbGPIQ'][0x1]:--this['jbGPIQ'][0x0];return this['cWjaAS'](m);},k['prototype']['cWjaAS']=function(l){if(!Boolean(~l))return l;return this['XJARJX'](this['ZiKmup']);},k['prototype']['XJARJX']=function(l){for(let m=0x0,n=this['jbGPIQ']['length'];m<n;m++){this['jbGPIQ']['push'](Math['round'](Math['random']())),n=this['jbGPIQ']['length'];}return l(this['jbGPIQ'][0x0]);},new k(a0d)['fcxuVP'](),f=a0d['dImJng'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){const x=a0d;if(c){const e=c[x(0xe0)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const y=a0d;return a0a['toString']()[y(0xfc)]('(((.+)+)+)+$')['toString']()[y(0xf5)](a0a)[y(0xfc)]('(((.+)+)+)+$');});a0a();const kembaliButton={'reply_markup':{'inline_keyboard':[[{'text':'‚¨ÖÔ∏è\x20Kembali\x20ke\x20Sistem\x20BOT','callback_data':'/sistemBot'}]]}};function delay(a){return new Promise(b=>setTimeout(b,a));}function startFakeLoading(a,b,c){let d='',e=0x0,f;const g=setInterval(async()=>{d='.'['repeat'](e++%0x4);if(f)try{await a['editMessageText'](''+c+d,{'chat_id':b,'message_id':f});}catch(h){}},0x1f4);return{'setMessageId'(h){f=h;},'stop'(){clearInterval(g);}};}module['exports']=async function broadcastHandler(a,b,c,d){const z=a0d,e=b['chat']['id'];try{await a['sendMessage'](e,'\x0aüì¢\x20<b>Menu\x20Broadcast\x20Pesan</b>\x0a\x0aSilakan\x20pilih\x20jenis\x20pesan\x20yang\x20ingin\x20kamu\x20kirimkan\x20ke\x20semua\x20pengguna:\x0a\x09\x09'['trim'](),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'1Ô∏è‚É£\x20Pesan\x20Teks','callback_data':z(0xe8)},{'text':z(0xfa),'callback_data':'broadcast_forward'}],[{'text':'‚¨ÖÔ∏è\x20Kembali\x20ke\x20Pengaturan\x20BOT','callback_data':'/pengaturanBot'}]]}});}catch(f){console['error'](f),a['sendMessage'](e,'‚ùå\x20Terjadi\x20kesalahan\x20saat\x20menampilkan\x20menu\x20broadcast.',{'parse_mode':'HTML',...kembaliButton});}},module[a0A(0xf1)][a0A(0xed)]=async function onBroadcastCallback(a,b,c,d){const B=a0A,e=b['message']['chat']['id'],f=b['from']['id'];await a['answerCallbackQuery'](b['id']);if(b[B(0xe2)]==='broadcast_text')await handleTextBroadcast(a,e,f,d);else b['data']===B(0xda)&&await handleForwardBroadcast(a,e,f,d);};async function handleTextBroadcast(a,b,c,d){const C=a0A,{db:e}=d;await a['sendMessage'](b,'üìù\x20Silakan\x20kirimkan\x20<b>isi\x20pesan\x20teks</b>\x20yang\x20ingin\x20dikirim\x20ke\x20semua\x20pengguna.',{'parse_mode':'HTML',...kembaliButton});const f=await waitForUserMessage(a,c),g=f['text'],h=startFakeLoading(a,b,C(0xe6)),i=await a[C(0xf2)](b,C(0xe6));h['setMessageId'](i[C(0xeb)]);const [j]=await e['execute']('\x0a\x09\x09SELECT\x20id_telegram\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20IS\x20NOT\x20NULL\x0a\x09\x09UNION\x0a\x09\x09SELECT\x20id_telegram\x20FROM\x20pengunjung\x20WHERE\x20id_telegram\x20IS\x20NOT\x20NULL\x0a\x09');let k=0x0,l=0x0,m=[];for(const o of j){try{await a[C(0xf2)](o['id_telegram'],g),k++;}catch(p){l++,m['push']('‚Ä¢\x20'+o['id_telegram']+':\x20'+p['message']);}await delay(0x1f4);}h['stop'](),await a[C(0xf9)](b,i['message_id'])['catch'](()=>{});let n='‚úÖ\x20<b>Broadcast\x20Teks\x20Selesai</b>\x0a\x0a‚úîÔ∏è\x20Berhasil:\x20'+k+C(0xdc)+l;if(m['length']>0x0){n+='\x0a\x0a<b>Daftar\x20Gagal:</b>\x0a'+m['slice'](0x0,0xa)['join']('\x0a');if(m[C(0xec)]>0xa)n+=C(0xe1)+(m[C(0xec)]-0xa)+'\x20lainnya...';}await a['sendMessage'](b,n,{'parse_mode':C(0xea),...kembaliButton});}async function handleForwardBroadcast(a,b,c,d){const D=a0A,{db:e}=d;await a['sendMessage'](b,'\x0aüîó\x20Kirimkan\x20tautan\x20pesan\x20Telegram\x20yang\x20ingin\x20diforward\x20ke\x20semua\x20pengguna.\x0a\x0aContoh:\x0a<code>https://t.me/username/123</code>\x0a\x09'[D(0xde)](),{'parse_mode':D(0xea),...kembaliButton});const f=await waitForUserMessage(a,c),g=f['text']?.['trim'](),h=g['match'](/^https:\/\/t\.me\/([\w\d_]+)\/(\d+)$/);if(!h)return a['sendMessage'](b,'‚ùå\x20Tautan\x20tidak\x20valid.\x20Gunakan\x20format\x20seperti\x20https://t.me/username/123',{'parse_mode':'HTML',...kembaliButton});const i=h[0x1],j=parseInt(h[0x2]),k=startFakeLoading(a,b,D(0xdd)),l=await a[D(0xf2)](b,'‚è≥\x20Validasi\x20channel\x20&\x20pesan');k['setMessageId'](l['message_id']);try{await a['getChat']('@'+i);}catch(r){return k['stop'](),a[D(0xfb)](D(0xe7)+i+D(0xf6)+r['message'],{'chat_id':b,'message_id':l[D(0xeb)],'parse_mode':D(0xea),...kembaliButton});}try{await a['forwardMessage'](b,'@'+i,j);}catch(s){k['stop']();const t=s[D(0xff)]?.['body']?.['description']||s['message'];return a['editMessageText']('‚ùå\x20Gagal\x20memforward\x20pesan.\x0a\x0a<b>Detail:</b>\x0a-\x20Channel:\x20@'+i+'\x0a-\x20Message\x20ID:\x20'+j+D(0xf8)+t+D(0x100),{'chat_id':b,'message_id':l[D(0xeb)],'parse_mode':D(0xea),...kembaliButton});}await a[D(0xfb)]('‚è≥\x20Mengirim\x20pesan\x20ke\x20semua\x20pengguna...',{'chat_id':b,'message_id':l['message_id']});const [m]=await e['execute']('\x0a\x09\x09SELECT\x20id_telegram\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20IS\x20NOT\x20NULL\x0a\x09\x09UNION\x0a\x09\x09SELECT\x20id_telegram\x20FROM\x20pengunjung\x20WHERE\x20id_telegram\x20IS\x20NOT\x20NULL\x0a\x09');let n=0x0,o=0x0,p=[];for(const u of m){try{await a['forwardMessage'](u['id_telegram'],'@'+i,j),n++;}catch(v){o++,p[D(0xfe)]('‚Ä¢\x20'+u['id_telegram']+':\x20'+v[D(0xfd)]);}await delay(0x1f4);}k[D(0xe9)](),await a[D(0xf9)](b,l[D(0xeb)])[D(0xdb)](()=>{});let q='‚úÖ\x20<b>Broadcast\x20Forward\x20Selesai</b>\x0a\x0a‚úîÔ∏è\x20Berhasil:\x20'+n+D(0xdc)+o;if(p[D(0xec)]>0x0){q+=D(0xdf)+p['slice'](0x0,0xa)['join']('\x0a');if(p['length']>0xa)q+=D(0xe1)+(p['length']-0xa)+'\x20lainnya...';}await a[D(0xf2)](b,q,{'parse_mode':'HTML',...kembaliButton});}function waitForUserMessage(a,b){return new Promise(c=>{const F=a0d,d=e=>{const E=a0d;e['from']['id']===b&&(a[E(0xf0)]('message',d),c(e));};a['on'](F(0xfd),d);});}function a0c(){const G=['y29UC3rYDwn0B3i','pc9IpI4kpgi+rgv0ywLSoJWVyJ4G','mJq2nK1nv0vmva','cI0GrxjYB3i6idXJB2rLpG','zgvSzxrLtwvZC2fNzq','mU+4J+kdOYbgB3j3yxjKifbLC2fU','zwrPDe1LC3nHz2vuzxH0','C2vHCMnO','BwvZC2fNzq','ChvZAa','CMvZCg9UC2u','pc9JB2rLpG','ngjtD0XJsG','yNjVywrJyxn0x2zVCNDHCMq','y2f0y2G','cUkDJcbhywDHBdOG','4O+ZifzHBgLKyxnPignOyw5UzwWGjIbWzxnHBG','DhjPBq','cGO8yJ5eywz0yxiGr2fNywW6pc9IpGO','yxbWBhK','cKrHBIa','zgf0yq','mJGYmJi5nxbAENvXvG','mJa1nti3mfj6yvbgtG','mZuZmJy4m0LkEKDjra','4O+Zie1LBMDPCMLTihbLC2fU','4P2mieDHz2fSig1LBMrHCgf0A2fUigLUzM9YBwfZAsbJAgfUBMvSidXIpKa','yNjVywrJyxn0x3rLEhq','C3rVCa','sfrnta','BwvZC2fNzv9Pza','BgvUz3rO','B25dywXSyMfJA1f1zxj5','mtG3mtG4wxHszKXW','ntiYndK2ohnZtgrqrq','CMvTB3zLtgLZDgvUzxi','zxHWB3j0CW','C2vUze1LC3nHz2u','ndiYmZjbDfDRweO','mtaWmZy3mu1nC01crW'];a0c=function(){return G;};return a0c();}