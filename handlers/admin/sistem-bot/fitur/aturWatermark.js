const a0w=a0d;(function(a,b){const u=a0d,c=a();while(!![]){try{const d=-parseInt(u(0x101))/0x1+-parseInt(u(0x121))/0x2*(parseInt(u(0x10c))/0x3)+parseInt(u(0x114))/0x4*(parseInt(u(0x111))/0x5)+-parseInt(u(0x120))/0x6+-parseInt(u(0x116))/0x7*(-parseInt(u(0x102))/0x8)+-parseInt(u(0x107))/0x9+parseInt(u(0x11b))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x47437));function a0c(){const B=['ChvZAa','nJm1odmXCK5es2P1','DwjHAf93Bv8X','kgTVC29UzYK','4QYf77IpieTLBwjHBgKGA2uGugvUz2f0DxjHBIbct1q','zxjYB3i','mtqYndeZodbcvw9rrw8','8j+wI++4JYbvyMfOifDHDgvYBwfYAYaX','zNjVBq','cGO8yJ5xyxrLCM1HCMSGmIaTiefRDw4GsKftrui6pc9IpGO','C2vUze1LC3nHz2u','mtaWnJqXnLvJr1njDa','otuXnti2DMvWv1Dj','DwjHAf93Bv8Y','BwvZC2fNzq','lI4VlI4VlI4VlI4VC3LZDgvTl2HLBhbLCNmVCgfYC2vuB0HutuXizwXWzxjZ','y2HHDa','zgf0yq','B25dywXSyMfJA1f1zxj5','mJu2otK3vfPotgzN','oeTJvw5fva','Aw5JBhvKzxm','cUkCHsa8yJ5xyxrLCM1HCMSG','sfrnta','vvbeqvrfihbLBMDHDhvYyw5FD2f0zxjTyxjRx3vZzxjIB3qGu0vuihDHDgvYBwfYAYa9id8Gv0HfuKuGAwqGpsa/','ndi3mZq3meTYy1HwzG','AwruyxjNzxq','kcGOlISPkYKRksSK','yxr1CLDHDgvYBwfYAW','DhjPBq','m2P2ENfJEa','BwvZC2fNzv9Pza','Dg9tDhjPBMC','zxHLy3v0zq','8j+wI++4JYbvyMfOifDHDgvYBwfYAYaY','mta1mhDMzNruAW','4QYf77IpieXPAgf0ifDHDgvYBwfYAW','4P2mievYCM9Yigf0DxjxyxrLCM1HCMS6','mJKWmg9dwgzJwa'];a0c=function(){return B;};return a0c();}function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x100;let f=c[d];if(a0d['KDxrZP']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['sQLhbX']=g,a=arguments,a0d['KDxrZP']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['sJNXgt']=l,this['vZIBOr']=[0x1,0x0,0x0],this['CJLAJv']=function(){return'newState';},this['vMuLeC']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['LjbGfB']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['dztQzP']=function(){const l=new RegExp(this['vMuLeC']+this['LjbGfB']),m=l['test'](this['CJLAJv']['toString']())?--this['vZIBOr'][0x1]:--this['vZIBOr'][0x0];return this['rDuieb'](m);},k['prototype']['rDuieb']=function(l){if(!Boolean(~l))return l;return this['sZKzct'](this['sJNXgt']);},k['prototype']['sZKzct']=function(l){for(let m=0x0,n=this['vZIBOr']['length'];m<n;m++){this['vZIBOr']['push'](Math['round'](Math['random']())),n=this['vZIBOr']['length'];}return l(this['vZIBOr'][0x0]);},new k(a0d)['dztQzP'](),f=a0d['sQLhbX'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const v=a0d;return a0a[v(0x10e)]()['search'](v(0x109))['toString']()['constructor'](a0a)['search']('(((.+)+)+)+$');});a0a();const parseToHTMLHelpers=require(a0w(0x124)),kembaliButton={'reply_markup':{'inline_keyboard':[[{'text':'⬅️\x20Kembali\x20ke\x20Sistem\x20BOT','callback_data':'/sistemBot'}]]}},kembaliLihatWM={'reply_markup':{'inline_keyboard':[[{'text':a0w(0x112),'callback_data':'/aturWatermark'}]]}};module['exports']=async function aturWatermarkHandler(a,b,c,d){const x=a0w,{db:e}=d,f=b[x(0x125)]['id'],g=b[x(0x11d)]['id'];c['aturWatermark']={};const h=[];try{const [i]=await e[x(0x10f)]('SELECT\x20id,\x20watermark\x20FROM\x20pengaturan_watermark_userbot\x20WHERE\x20id\x20IN\x20(1,2)\x20ORDER\x20BY\x20id\x20ASC'),j=i['find'](s=>s['id']===0x1)?.['watermark']||'(kosong)',k=i['find'](s=>s['id']===0x2)?.['watermark']||x(0x118),l=await a['sendMessage'](f,('\x0a🖋️\x20<b>Pengaturan\x20Watermark</b>\x0a\x0a<b>Watermark\x201\x20-\x20Akun\x20MEMBER/VIP:</b>\x0a'+j+x(0x11e)+k+'\x0a\x0aPilih\x20watermark\x20yang\x20ingin\x20diubah:\x0a\x09\x09')[x(0x10b)](),{'parse_mode':x(0x105),'reply_markup':{'inline_keyboard':[[{'text':x(0x11c),'callback_data':'ubah_wm_1'},{'text':x(0x110),'callback_data':'ubah_wm_2'}],[{'text':x(0x119),'callback_data':'/pengaturanBot'}]]}});h['push'](l['message_id']);const m=await waitForInline(a,g,[x(0x117),x(0x122)]),n=m===x(0x117)?0x1:0x2;c[x(0x10a)][x(0x108)]=n;const o=await a['sendMessage'](f,'\x0a🧩\x20<b>Masukkan\x20Watermark\x20Baru</b>\x0a\x0aKetik\x20watermark\x20baru\x20menggunakan\x20HTML\x20visual\x20seperti:\x0a\x0a<b>Contoh:</b>\x0a<b>🔥\x20Bold</b>\x0a<i>🔥\x20Italic</i>\x0a<a\x20href=\x22https://t.me/jasaky_id\x22>🔥\x20Link</a>\x0a\x09\x09\x09'['trim'](),{'parse_mode':x(0x105),'reply_markup':kembaliButton});h['push'](o[x(0x10d)]);const p=await waitForUserMessage(a,g);h[x(0x115)](p['message_id']);const q=parseToHTMLHelpers(p);if(!q||q[x(0x10b)]()==='')return a['sendMessage'](f,'⚠️\x20Watermark\x20tidak\x20boleh\x20kosong.',kembaliButton);await e[x(0x10f)](x(0x106),[q,n]);for(const r of h){try{await a['deleteMessage'](f,r);}catch(s){}}await a[x(0x11f)](f,(x(0x104)+n+'\x20berhasil\x20diperbarui!</b>\x0a\x0a<i>Preview\x20Baru:</i>\x0a'+q+'\x0a\x09\x09\x09')['trim'](),{'parse_mode':'HTML',...kembaliLihatWM});}catch(t){console[x(0x11a)](x(0x113),t[x(0x123)]),await a['sendMessage'](f,'❌\x20Terjadi\x20kesalahan\x20saat\x20proses.',kembaliButton);}},module['exports'][a0w(0x100)]=async function(a,b,c){const y=a0w,d=['ubah_wm_1','ubah_wm_2'];d[y(0x103)](b['data'])&&await a['answerCallbackQuery'](b['id']);};function waitForInline(a,b,c=[]){return new Promise(d=>{const e=f=>{const z=a0d;f[z(0x11d)]['id']===b&&c['includes'](f[z(0x126)])&&(a['removeListener']('callback_query',e),d(f['data']));};a['on']('callback_query',e);});}function waitForUserMessage(a,b){return new Promise(c=>{const d=e=>{const A=a0d;e['from']['id']===b&&(a['removeListener'](A(0x123),d),c(e));};a['on']('message',d);});}