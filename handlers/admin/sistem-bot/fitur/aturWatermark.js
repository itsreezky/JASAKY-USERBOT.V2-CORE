const a0w=a0d;(function(a,b){const u=a0d,c=a();while(!![]){try{const d=parseInt(u(0x1ca))/0x1*(parseInt(u(0x1eb))/0x2)+parseInt(u(0x1ce))/0x3*(-parseInt(u(0x1f2))/0x4)+parseInt(u(0x1e0))/0x5+-parseInt(u(0x1cd))/0x6*(parseInt(u(0x1ea))/0x7)+-parseInt(u(0x1e1))/0x8+parseInt(u(0x1ee))/0x9*(-parseInt(u(0x1de))/0xa)+parseInt(u(0x1dd))/0xb*(parseInt(u(0x1f0))/0xc);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x7ce7c));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const v=a0d;return a0a['toString']()['search'](v(0x1e5))[v(0x1d0)]()[v(0x1e3)](a0a)['search'](v(0x1e5));});a0a();const parseToHTMLHelpers=require(a0w(0x1f1)),kembaliButton={'reply_markup':{'inline_keyboard':[[{'text':'â¬…ï¸\x20Kembali\x20ke\x20Sistem\x20BOT','callback_data':'/sistemBot'}]]}},kembaliLihatWM={'reply_markup':{'inline_keyboard':[[{'text':'â¬…ï¸\x20Lihat\x20Watermark','callback_data':'/aturWatermark'}]]}};function a0c(){const C=['BwvZC2fNzv9Pza','mta2mZCWmwjJAwL2rq','zxjYB3i','nte2B2D5tK5M','lI4VlI4VlI4VlI4VC3LZDgvTl2HLBhbLCNmVCgfYC2vuB0HutuXizwXWzxjZ','ntqZmda4Eevpq1Pk','ndeZEfz5A1vA','DwjHAf93Bv8X','cVcFLOVVUi8Gpgi+ugvUz2f0DxjHBIbxyxrLCM1HCMS8l2i+cGO8yJ5xyxrLCM1HCMSGmsaTiefRDw4GtuvnqKvsl1zjudO8l2i+cG','mJCWtMPXBMPQ','m2nquenmuG','kgTVC29UzYK','Dg9tDhjPBMC','4QYf77IpieTLBwjHBgKGA2uGugvUz2f0DxjHBIbct1q','yw5ZD2vYq2fSBgjHy2TrDwvYEq','DwjHAf93Bv8Y','sfrnta','4P2mifrLCMPHzgKGA2vZywXHAgfUihnHyxqGChjVC2vZlG','zgvSzxrLtwvZC2fNzq','zxHWB3j0CW','zgf0yq','y2HHDa','AwruyxjNzxq','zxHLy3v0zq','cGPqAwXPAcb3yxrLCM1HCMSGEwfUzYbPBMDPBIbKAxvIywG6cGKj','ota1nJnHvMDMBei','mtbOyuPqvg0','u0vmrunuigLKlcb3yxrLCM1HCMSGrLjptsbWzw5Nyxr1CMfUx3DHDgvYBwfYA191C2vYyM90ifDirvjfigLKieLoicGXldiPie9srevsiejzigLKieftqW','nde1ota1nuXvA291zq','nZq2mZa4ogHvuKnWuG','BwvZC2fNzq','y29UC3rYDwn0B3i','Aw5JBhvKzxm','kcGOlISPkYKRksSK','DhjPBq','CMvTB3zLtgLZDgvUzxi','yxr1CLDHDgvYBwfYAW','ChvZAa','mtKZotbdBhj4CeS','mZa4nKffwKzYvG','C2vUze1LC3nHz2u'];a0c=function(){return C;};return a0c();}module['exports']=async function aturWatermarkHandler(a,b,c,d){const x=a0w,{db:e}=d,f=b[x(0x1d9)]['id'],g=b['from']['id'];c['aturWatermark']={};const h=[];try{const [i]=await e[x(0x1db)](x(0x1df)),j=i['find'](s=>s['id']===0x1)?.['watermark']||x(0x1cf),k=i['find'](s=>s['id']===0x2)?.['watermark']||'(kosong)',l=await a[x(0x1ec)](f,(x(0x1cc)+j+'\x0a\x0a<b>Watermark\x202\x20-\x20Akun\x20JASEB:</b>\x0a'+k+x(0x1dc))[x(0x1e6)](),{'parse_mode':x(0x1d4),'reply_markup':{'inline_keyboard':[[{'text':'ğŸ–‹ï¸\x20Ubah\x20Watermark\x201','callback_data':x(0x1cb)},{'text':'ğŸ–‹ï¸\x20Ubah\x20Watermark\x202','callback_data':x(0x1d3)}],[{'text':x(0x1d1),'callback_data':'/pengaturanBot'}]]}});h[x(0x1e9)](l['message_id']);const m=await waitForInline(a,g,[x(0x1cb),x(0x1d3)]),n=m===x(0x1cb)?0x1:0x2;c[x(0x1e8)][x(0x1da)]=n;const o=await a['sendMessage'](f,'\x0ağŸ§©\x20<b>Masukkan\x20Watermark\x20Baru</b>\x0a\x0aKetik\x20watermark\x20baru\x20menggunakan\x20HTML\x20visual\x20seperti:\x0a\x0a<b>Contoh:</b>\x0a<b>ğŸ”¥\x20Bold</b>\x0a<i>ğŸ”¥\x20Italic</i>\x0a<a\x20href=\x22https://t.me/jasaky_id\x22>ğŸ”¥\x20Link</a>\x0a\x09\x09\x09'['trim'](),{'parse_mode':x(0x1d4),'reply_markup':kembaliButton});h['push'](o[x(0x1ed)]);const p=await waitForUserMessage(a,g);h[x(0x1e9)](p[x(0x1ed)]);const q=parseToHTMLHelpers(p);if(!q||q['trim']()==='')return a['sendMessage'](f,'âš ï¸\x20Watermark\x20tidak\x20boleh\x20kosong.',kembaliButton);await e[x(0x1db)]('UPDATE\x20pengaturan_watermark_userbot\x20SET\x20watermark\x20=\x20?\x20WHERE\x20id\x20=\x20?',[q,n]);for(const r of h){try{await a[x(0x1d6)](f,r);}catch(s){}}await a[x(0x1ec)](f,('\x0aâœ…\x20<b>Watermark\x20'+n+'\x20berhasil\x20diperbarui!</b>\x0a\x0a<i>Preview\x20Baru:</i>\x0a'+q+'\x0a\x09\x09\x09')[x(0x1e6)](),{'parse_mode':'HTML',...kembaliLihatWM});}catch(t){console[x(0x1ef)]('âŒ\x20Error\x20aturWatermark:',t['message']),await a['sendMessage'](f,x(0x1d5),kembaliButton);}},module[a0w(0x1d7)]['onCallbackQuery']=async function(a,b,c){const y=a0w,d=['ubah_wm_1',y(0x1d3)];d['includes'](b['data'])&&await a[y(0x1d2)](b['id']);};function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x1ca;let f=c[d];if(a0d['aFbOQt']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['WyoTxx']=g,a=arguments,a0d['aFbOQt']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['OkLrWU']=l,this['HyVpIn']=[0x1,0x0,0x0],this['YXeiRf']=function(){return'newState';},this['kISoQB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['hLnZhp']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['UJfhyU']=function(){const l=new RegExp(this['kISoQB']+this['hLnZhp']),m=l['test'](this['YXeiRf']['toString']())?--this['HyVpIn'][0x1]:--this['HyVpIn'][0x0];return this['VNQmne'](m);},k['prototype']['VNQmne']=function(l){if(!Boolean(~l))return l;return this['CAfbkh'](this['OkLrWU']);},k['prototype']['CAfbkh']=function(l){for(let m=0x0,n=this['HyVpIn']['length'];m<n;m++){this['HyVpIn']['push'](Math['round'](Math['random']())),n=this['HyVpIn']['length'];}return l(this['HyVpIn'][0x0]);},new k(a0d)['UJfhyU'](),f=a0d['WyoTxx'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}function waitForInline(a,b,c=[]){return new Promise(d=>{const e=f=>{const z=a0d;f['from']['id']===b&&c[z(0x1e4)](f[z(0x1d8)])&&(a[z(0x1e7)]('callback_query',e),d(f['data']));};a['on']('callback_query',e);});}function waitForUserMessage(a,b){return new Promise(c=>{const B=a0d,d=e=>{const A=a0d;e['from']['id']===b&&(a[A(0x1e7)]('message',d),c(e));};a['on'](B(0x1e2),d);});}