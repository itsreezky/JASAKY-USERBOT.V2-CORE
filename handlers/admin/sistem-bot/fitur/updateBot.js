const a0w=a0d;function a0c(){const E=['mZm1otG2yu5cvKPp','4QYf77IpieTLBwjHBgKGA2uGu2LZDgvTiejpva','twvTDwXHAsb1CgrHDguGyM90lI4U','nZq4nteXmxf0sLnrzG','ndu1mJK3mhvzyMXbwq','C2vUze1LC3nHz2u','mZiXmdqYmdrAv29szwy','l3nPC3rLBujVDa','ndHIzKjpvfe','ndiYnJCZrfbXuvnN','B25dywXSyMfJA1f1zxj5','C2vHCMnO','4PQG77IpiejLyMvYyxbHigrHDgeGDxbKyxrLigjLBhvTigXLBMDRyxaUifnPBgfRyw4Gy2vRigTLBwjHBgKGA29UzMLNDxjHC2KGC2vYDMvYlG','BwvZC2fNzq','zwrPDe1LC3nHz2vuzxH0','mJaZntyWzNLYAMD5','4P2mifvWzgf0zsbNywDHBc4Gu2LSywTHBIbJzwSGBg9NihnLCNzLCI4','4P2mifrLCMPHzgKGA2vZywXHAgfUoG','zNjVBq','ne5LzuHzza','y2HPBgrFChjVy2vZCW','4P2mieDHz2fSig1LBMfTCgLSA2fUig1LBNuGDxbKyxrLigjVDc4','nJKWntmYB1jZB1fU','8j+AGcbvCgrHDguGu2vRyxjHBMC','pc9JB2rLpGRWN5ocidXIpLjLCg86pc9IpIa8y29Kzt4','CMvWzwf0','mJfQDhDxEgC','icyMigDPDcbWDwXSicyMihbTmIbYzxn0yxj0ia','mJaWq3b0wefk','sfrnta','DhjPBq'];a0c=function(){return E;};return a0c();}function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0xc2;let f=c[d];if(a0d['vSlKfo']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['GwDoTr']=g,a=arguments,a0d['vSlKfo']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['ESStzE']=l,this['IbgWuq']=[0x1,0x0,0x0],this['RSVrkk']=function(){return'newState';},this['DmdCoj']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['wfDscM']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['pbJOoT']=function(){const l=new RegExp(this['DmdCoj']+this['wfDscM']),m=l['test'](this['RSVrkk']['toString']())?--this['IbgWuq'][0x1]:--this['IbgWuq'][0x0];return this['TKELTe'](m);},k['prototype']['TKELTe']=function(l){if(!Boolean(~l))return l;return this['KLhaNZ'](this['ESStzE']);},k['prototype']['KLhaNZ']=function(l){for(let m=0x0,n=this['IbgWuq']['length'];m<n;m++){this['IbgWuq']['push'](Math['round'](Math['random']())),n=this['IbgWuq']['length'];}return l(this['IbgWuq'][0x0]);},new k(a0d)['pbJOoT'](),f=a0d['GwDoTr'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}(function(a,b){const u=a0d,c=a();while(!![]){try{const d=parseInt(u(0xdd))/0x1*(parseInt(u(0xc8))/0x2)+parseInt(u(0xcf))/0x3*(-parseInt(u(0xcb))/0x4)+parseInt(u(0xc4))/0x5*(-parseInt(u(0xdc))/0x6)+parseInt(u(0xd4))/0x7*(-parseInt(u(0xd1))/0x8)+-parseInt(u(0xd7))/0x9+parseInt(u(0xd8))/0xa+parseInt(u(0xda))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x9f88b));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const v=a0d;return a0a['toString']()[v(0xdf)]('(((.+)+)+)+$')['toString']()['constructor'](a0a)['search']('(((.+)+)+)+$');});a0a();const {exec}=require(a0w(0xc9)),kembaliButton={'reply_markup':{'inline_keyboard':[[{'text':a0w(0xd5),'callback_data':a0w(0xdb)}]]}};module['exports']=async function updateBotHandler(a,b,c,d){const x=a0w,{db:e,getDataUserbot:f}=d,g=await f(),h=b['chat']['id'],i=b[x(0xc7)]['id'],{updateBot:j,ubuntuHost:k,ubuntuUser:l,ubuntuPassword:m,pm2ProcessName:n,pm2ScriptPath:o,repoGitUrl:p}=g;if(j!==0x1&&j!=='1')return a['sendMessage'](h,'\x0a✅\x20<b>Bot\x20kamu\x20sudah\x20versi\x20terbaru</b>\x0a\x0aTidak\x20ditemukan\x20pembaruan\x20baru\x20saat\x20ini.\x0aTerima\x20kasih\x20telah\x20menjaga\x20sistem\x20kamu\x20tetap\x20up-to-date!\x0a'['trim'](),{'parse_mode':x(0xd2),...kembaliButton});try{if(!k||!l||!m||!n||!o||!p)return a['sendMessage'](h,x(0xe0),kembaliButton);await a[x(0xd9)](h,('\x0a⚙️\x20<b>Konfirmasi\x20Update\x20BOT</b>\x0a\x0aApakah\x20kamu\x20yakin\x20ingin\x20melakukan\x20update\x20&\x20restart\x20bot\x20ini\x20secara\x20langsung\x20dari\x20server?\x0a\x0a🛠️\x20<b>Host:</b>\x20<code>'+k+x(0xcd)+p+'</code>\x0a🔁\x20<b>PM2:</b>\x20<code>'+n+'</code>\x0a\x0aTekan\x20tombol\x20di\x20bawah\x20untuk\x20melanjutkan\x20proses\x20update.\x0a')[x(0xd3)](),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':x(0xcc),'callback_data':'konfirmasiUpdateBot'}],[{'text':'⬅️\x20Batal\x20Update','callback_data':'/sistemBot'}]]}});}catch(q){console['error'](x(0xc6),q['message']),a['sendMessage'](h,x(0xca),kembaliButton);}},module['exports'][a0w(0xde)]=async function onCallbackQuery(a,b,c){const y=a0w,d=b[y(0xc2)]['chat']['id'],{pm2ProccessName:e,pm2ScriptPath:f}=c;await a['answerCallbackQuery'](b['id'],{'text':y(0xd6)});const g=async(j,k)=>{const A=y,l=0x14;let m=0x0,n=![];const o=r=>{const z=a0d,s='█'['repeat'](r),t='░'[z(0xce)](l-r);return'<pre>⏳\x20Sedang\x20update...\x0a['+s+t+']</pre>';},p=await j[A(0xd9)](k,o(m),{'parse_mode':'HTML'}),q=setInterval(()=>{const B=A;if(n)return;m=(m+0x1)%(l+0x1),j[B(0xc3)](o(m),{'chat_id':k,'message_id':p['message_id'],'parse_mode':'HTML'});},0xc8);return()=>{const C=A;n=!![],clearInterval(q),j[C(0xc3)]('<b>✅\x20Update\x20selesai.\x20Menyiapkan\x20hasil...</b>',{'chat_id':k,'message_id':p['message_id'],'parse_mode':C(0xd2)});};},h=await g(a,d),i=('\x0a\x09cd\x20'+f+y(0xd0)+e+'\x0a\x09')[y(0xd3)]();exec(i,(j,k,l)=>{const D=y;h();if(j)return console['error']('❌\x20Gagal\x20update:\x20'+j['message']),a['sendMessage'](d,D(0xc5),kembaliButton);l&&console['warn']('⚠️\x20STDERR:\x20'+l);const m=k['replace'](/(\x1b|\[[0-9;]*m)/g,'')['trim']()['slice'](-0xfa0);a[D(0xd9)](d,('\x0a✅\x20<b>Bot\x20berhasil\x20diupdate\x20&\x20direstart!</b>\x0a\x0a🆗\x20Semua\x20file\x20berhasil\x20di-<i>pull</i>\x20dari\x20repository.\x0a🚀\x20PM2\x20berhasil\x20<b>restart</b>\x20proses\x20bot\x20kamu.\x0a\x0a<pre>'+m+'</pre>\x0a')['trim'](),{'parse_mode':D(0xd2),...kembaliButton});});};