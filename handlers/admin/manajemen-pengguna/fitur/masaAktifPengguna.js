const a0B=a0d;(function(a,b){const z=a0d,c=a();while(!![]){try{const d=-parseInt(z(0x11b))/0x1+parseInt(z(0x115))/0x2*(-parseInt(z(0x105))/0x3)+parseInt(z(0xfb))/0x4*(-parseInt(z(0x11e))/0x5)+parseInt(z(0x100))/0x6+-parseInt(z(0x11d))/0x7+-parseInt(z(0xfe))/0x8*(-parseInt(z(0x112))/0x9)+parseInt(z(0x11c))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x355ef));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const A=a0d;return a0a['toString']()['search'](A(0xfa))['toString']()['constructor'](a0a)[A(0xf5)]('(((.+)+)+)+$');});function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0xef;let f=c[d];if(a0d['NGFJgX']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['IUffNw']=g,a=arguments,a0d['NGFJgX']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['xdsRdE']=l,this['uLQyoO']=[0x1,0x0,0x0],this['Ikjpxo']=function(){return'newState';},this['PVQKkb']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['CfkDlp']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['KqcbDS']=function(){const l=new RegExp(this['PVQKkb']+this['CfkDlp']),m=l['test'](this['Ikjpxo']['toString']())?--this['uLQyoO'][0x1]:--this['uLQyoO'][0x0];return this['tSzuwS'](m);},k['prototype']['tSzuwS']=function(l){if(!Boolean(~l))return l;return this['DQFuVg'](this['xdsRdE']);},k['prototype']['DQFuVg']=function(l){for(let m=0x0,n=this['uLQyoO']['length'];m<n;m++){this['uLQyoO']['push'](Math['round'](Math['random']())),n=this['uLQyoO']['length'];}return l(this['uLQyoO'][0x0]);},new k(a0d)['KqcbDS'](),f=a0d['IUffNw'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}function a0c(){const I=['l21HBMfQzw1LBLbLBMDNDw5H','Dgv4Da','pc9JB2rLpGRWN5gKifvZzxjUyw1LoIa8y29Kzt4','C2vUze1LC3nHz2u','yw5ZD2vYq2fSBgjHy2TrDwvYEq','C2HVCNq','4PQG77IpiezVCM1HDcb0AwrHAYb2ywXPzc4Gr3vUywTHBIbMB3jTyxqGkZmWigf0yxuGlteWlG','yxr1CL9TyxnHx2fRDgLMoG','cUkpSYa8yJ5bDhvYie1HC2eGqwT0AwyGugvUz2D1BMe8l2i+cGPlyw11igjPC2eGBwvUz2f0DxiGywT1BIbTzw5QywrPieXPzMv0Aw1LicHKzw5Nyw4GDg9TyM9SksWkyxrHDsbTzw5HBwjHAc9Tzw5NDxjHBMDPig1HC2eGywT0AwyGzgfSyw0GC2f0DwfUigHHCMKUcGPlBgLRidXIpKnHCMKGugvUz2D1BMe8l2i+ihvUDhvRig1LBxvSywKUcG','u0vmrunuigTHzgfSDwfYC2fFCgfKysbguK9nihrVA2vUx2XVz2LUx3vZzxjIB3qGv0HfuKuGAwrFDgvSzwDYyw0Gpsa/ie9srevsiejzigTHzgfSDwfYC2fFCgfKysbervndieXjtuLuide','nJn4wKDIwLa','Dg9mB3DLCKnHC2u','Bg9UzW','ntu3otzVu3DoBhy','ywn0AxzL','ic0G','BgvUz3rO','ChvZAa','4PQG77IpifrVA2vUihbLBMDNDw5HihrPzgfRigrPDgvTDwTHBI4','ndmXnJvvqxPusKm','mJi2nZuWsenmtwTP','mtaYndeWn3fxr3zVrG','ntKYmtvNvvP6z3C','zNjVBq','cGKjcqLtruXfq1qGAwrFDgvSzwDYyw0SihvZzxjUyw1LlcbUyw1Hx2rLCgfUlcbUyw1Hx2jLBgfRyw5NcGKjcqLguK9nihbLBMDNDw5Hx3vZzxjIB3qkcqKjcvDirvjfcGKjcqKjAwrFDgvSzwDYyw0GteLlrsa/ie9scGKjcqKjte9xrviOq09oq0fukg5HBwfFzgvWyw4SicCGjYWGsuzovuXmkg5HBwfFyMvSywTHBMCSicCNksKPieXjs0uGpYbpuGOjcqKjcuXpv0vskhvZzxjUyw1LksbmsuTfid8kcqKjcu9srevsiejzigLKierfu0mkcqKjcuXjtuLuiduWcGKjcq','4PM+77IpiefRDgLMA2fUieXPzMv0Aw1L','8j+uJsbdyxjPifbLBMDNDw5H','A2fKywX1yxjZyv9WywrH','CxvLCNK','C3bSAxq','AwqTsuq','zwrPDf9Tyw51ywW','C2vHCMnO','AwrFDgvSzwDYyw0','y2fSBgjHy2TFCxvLCNK','y2fYAv9TyxnHx2fRDgLMx3bLBMDNDw5H','sfrnta','kcGOlISPkYKRksSK','mtzKqujwA2O','BwvZC2fNzq','BNvTzxjPyW','odm2nZjruvDOD20','BwfZyufRDgLMugvUz2D1BMe','mJmYndCZmhLUqLbRwG','pc9JB2rLpGRWN5ogieTHzgfSDwfYC2e6idXJB2rLpG','AwruzwXLz3jHBq','BwvZC2fNzv9Pza','qxnPys9kywTHCNrH','m3zOCwHwsG','pc9JB2rLpGOk8j+uPYblAxjPBsbHBMDRysbZzxbLCNrPoGRIGkiGpgi+kZmWpc9IpIdIHPiGvgfTyMfOidmWigHHCMKk4OcIidXIpI01pc9IpIdIHPiGs3vYyw5NAsa1igHHCMKk','8j+tQsbtAwXHA2fUigTPCMLTigfUz2THicHTAxnHBg55ysaRmZaGyxrHDsaTmtaP'];a0c=function(){return I;};return a0c();}a0a();const kembaliInlineButton=[[{'text':'‚¨ÖÔ∏è\x20Kembali\x20ke\x20Manajemen\x20Pengguna','callback_data':a0B(0x108)}]];function formatTanggalIndonesia(a){const C=a0B;return a['toLocaleString'](C(0xf3),{'weekday':C(0x114),'day':'numeric','month':C(0x114),'year':C(0xfd),'hour':'2-digit','minute':'2-digit','timeZone':C(0x104),'timeZoneName':C(0x10d)});}module['exports']=async function masaAktifPengguna(a,b,c,d){const D=a0B,{db:e}=d,f=b['chat']['id'],g=b['from']['id'];c[D(0xff)]={'step':null,'state':{},'active':!![]};const h=()=>{const E=D;c[E(0xff)]=null;};await a['sendMessage'](f,D(0x110)['trim'](),{'parse_mode':D(0xf9),'reply_markup':{'inline_keyboard':[[{'text':D(0xef),'callback_data':D(0xf8)}],...kembaliInlineButton]}});const i=async k=>{const F=D;if(k[F(0x11f)]['id']!==g||!c['masaAktifPengguna']?.[F(0x116)])return;const l=k['data'],m=k[F(0xfc)]['chat']['id'],n=k['message'][F(0x103)];await a[F(0x10c)](k['id']),await a['deleteMessage'](m,n)['catch'](()=>{});if(l==='/manajemenPengguna'){h();return;}if(l==='cari_masa_aktif_pengguna')return c['masaAktifPengguna']['step']='cari',a[F(0x10b)](m,'\x0aüîç\x20<b>Pencarian\x20Pengguna</b>\x0a\x0aKetik\x20ID\x20Telegram,\x20nama,\x20atau\x20username\x20pengguna\x20untuk\x20melihat\x20&\x20atur\x20masa\x20aktifnya.\x0a'['trim'](),{'parse_mode':F(0xf9),'reply_markup':{'inline_keyboard':kembaliInlineButton}});if(l['startsWith'](F(0x10f))){const o=l[F(0xf2)](':')[0x1],[[p]]=await e['query']('SELECT\x20*\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?',[o]);if(!p)return a['sendMessage'](m,'‚ùå\x20Pengguna\x20tidak\x20ditemukan.',{'reply_markup':{'inline_keyboard':kembaliInlineButton}});const [[q]]=await e[F(0xf1)]('SELECT\x20lifetime,\x20kadaluarsa_pada\x20FROM\x20token_login_userbot\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[o]);if(!q)return a['sendMessage'](m,F(0x11a),{'reply_markup':{'inline_keyboard':kembaliInlineButton}});const r=q['lifetime']===0x1||q['kadaluarsa_pada']==='0000-00-00\x2000:00:00',s=r?'‚ôæÔ∏è\x20LIFETIME\x20(tidak\x20terbatas)':formatTanggalIndonesia(new Date(q['kadaluarsa_pada']));c['masaAktifPengguna']['state']={'idTelegram':o},c['masaAktifPengguna']['step']='edit';const t=[];r?t['push']([{'text':'‚ùå\x20Nonaktifkan\x20Lifetime','callback_data':'set_lifetime:0:'+o}]):t[F(0x119)]([{'text':F(0x121),'callback_data':'set_lifetime:1:'+o},{'text':'‚úèÔ∏è\x20Edit\x20Masa\x20Aktif\x20','callback_data':'edit_manual'}]),t['push'](...kembaliInlineButton),await a[F(0x10b)](m,('\x0a‚è≥\x20<b>Masa\x20Aktif\x20Pengguna</b>\x0a\x0aüìå\x20ID\x20Telegram:\x20<code>'+p['id_telegram']+F(0x10a)+(p['username']||'-')+F(0x101)+s+F(0x106))['trim'](),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':t}});}if(l['startsWith']('set_lifetime:')){const [,u,v]=l[F(0xf2)](':');if(u==='1')await e['query']('UPDATE\x20token_login_userbot\x20SET\x20lifetime\x20=\x201,\x20kadaluarsa_pada\x20=\x20\x270000-00-00\x2000:00:00\x27\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[v]),await a['sendMessage'](m,'‚úÖ\x20Lifetime\x20<b>diaktifkan</b>.',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});else{if(u==='0'){const w=new Date(),x=new Date(w['getTime']()+0x1e*0x5265c00),y=x['toISOString']()['slice'](0x0,0x13)['replace']('T','\x20');await e[F(0xf1)]('UPDATE\x20token_login_userbot\x20SET\x20lifetime\x20=\x200,\x20kadaluarsa_pada\x20=\x20?\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[y,v]),await a[F(0x10b)](m,'‚úÖ\x20Lifetime\x20<b>dinonaktifkan</b>.\x0aKadaluarsa\x20diperpanjang\x20+30\x20hari\x20dari\x20hari\x20ini:\x0a<code>'+formatTanggalIndonesia(x)+'</code>',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});}}}l===F(0xf4)&&(c['masaAktifPengguna']['step']='edit',await a['sendMessage'](m,F(0x107)));},j=async k=>{const G=D;if(k['from']['id']!==g||!c['masaAktifPengguna']?.['active'])return;const l=c[G(0xff)]['step'];if(l==='cari'){const m=k['text']['trim'](),n=m[G(0x113)](),[o]=await e[G(0xf1)](G(0x120),['%'+n+'%','%'+n+'%','%'+n['replace']('@','')+'%']);if(o[G(0x118)]===0x0)return a[G(0x10b)](f,'üîç\x20Tidak\x20ditemukan\x20pengguna\x20dengan\x20keyword\x20tersebut.');const p=o['map'](q=>{const H=G,r=[q['nama_depan'],q['nama_belakang']]['filter'](Boolean)['join']('\x20');return[{'text':'‚è≥\x20'+q[H(0xf6)]+H(0x117)+r,'callback_data':'atur_masa_aktif:'+q['id_telegram']}];});p[G(0x119)](...kembaliInlineButton),await a[G(0x10b)](f,'üîç\x20<b>Hasil\x20Pencarian:</b>\x0a<code>'+m+'</code>\x0a\x0aPilih\x20pengguna\x20untuk\x20atur\x20masa\x20aktif.',{'parse_mode':G(0xf9),'reply_markup':{'inline_keyboard':p}});return;}if(l==='edit'){const q=k[G(0x109)]['trim'](),r=parseInt(q,0xa);if(!/^[-+]\d+$/['test'](q)||isNaN(r))return a['sendMessage'](f,G(0x10e));const s=c['masaAktifPengguna']['state'][G(0x102)],[[t]]=await e['query'](G(0x111),[s]);let u=new Date();t?.[G(0xf0)]&&t[G(0xf0)]!=='0000-00-00\x2000:00:00'&&(u=new Date(t[G(0xf0)]));const v=new Date(u['getTime']()+r*0x5265c00),w=v['toISOString']()['slice'](0x0,0x13)['replace']('T','\x20');await e['query']('UPDATE\x20token_login_userbot\x20SET\x20kadaluarsa_pada\x20=\x20?\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[w,s]),await a['sendMessage'](f,'‚úÖ\x20Masa\x20aktif\x20berhasil\x20diperbarui:\x20<code>'+formatTanggalIndonesia(v)+'</code>',{'parse_mode':G(0xf9),'reply_markup':{'inline_keyboard':kembaliInlineButton}});}};a['on'](D(0xf7),i),a['on']('message',j);};