const a0B=a0d;(function(a,b){const z=a0d,c=a();while(!![]){try{const d=-parseInt(z(0xa9))/0x1+parseInt(z(0xcc))/0x2*(parseInt(z(0xc7))/0x3)+-parseInt(z(0x9c))/0x4+-parseInt(z(0xd0))/0x5*(-parseInt(z(0xc2))/0x6)+-parseInt(z(0xd4))/0x7+-parseInt(z(0xb0))/0x8*(-parseInt(z(0xb3))/0x9)+-parseInt(z(0x9b))/0xa*(-parseInt(z(0xcb))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0xe0342));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const A=a0d;return a0a['toString']()[A(0xc8)](A(0xbf))['toString']()['constructor'](a0a)[A(0xc8)]('(((.+)+)+)+$');});a0a();const kembaliInlineButton=[[{'text':a0B(0xd2),'callback_data':'/manajemenPengguna'}]];function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x9a;let f=c[d];if(a0d['vesGyD']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['xLQbIz']=g,a=arguments,a0d['vesGyD']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['WTPWIY']=l,this['UBeLxD']=[0x1,0x0,0x0],this['Edelgt']=function(){return'newState';},this['hrlqdP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ErAoQW']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['NTxzLo']=function(){const l=new RegExp(this['hrlqdP']+this['ErAoQW']),m=l['test'](this['Edelgt']['toString']())?--this['UBeLxD'][0x1]:--this['UBeLxD'][0x0];return this['PaTefT'](m);},k['prototype']['PaTefT']=function(l){if(!Boolean(~l))return l;return this['wWHmog'](this['WTPWIY']);},k['prototype']['wWHmog']=function(l){for(let m=0x0,n=this['UBeLxD']['length'];m<n;m++){this['UBeLxD']['push'](Math['round'](Math['random']())),n=this['UBeLxD']['length'];}return l(this['UBeLxD'][0x0]);},new k(a0d)['NTxzLo'](),f=a0d['xLQbIz'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}function a0c(){const H=['BgvUz3rO','y2fYAq','CxvLCNK','pc9JB2rLpG','BgLMzxrPBwu','pc9JB2rLpGRWN5ogieTHzgfSDwfYC2e6idXJB2rLpG','C2HVCNq','vvbeqvrfihrVA2vUx2XVz2LUx3vZzxjIB3qGu0vuigXPzMv0Aw1Lid0GmsWGA2fKywX1yxjZyv9WywrHid0GjZaWmdaTmdaTmdaGmda6mda6mdaNifDirvjfigLKx3rLBgvNCMfTid0GpYbpuKrfuIbcwsbRywrHBhvHCNnHx3bHzgeGrevtqYbmsu1jvcaX','ywn0AxzL','zwrPDa','cGKjcqLtruXfq1qGAwrFDgvSzwDYyw0SihvZzxjUyw1LlcbUyw1Hx2rLCgfUlcbUyw1Hx2jLBgfRyw5NcGKjcqLguK9nihbLBMDNDw5Hx3vZzxjIB3qkcqKjcvDirvjfcGKjcqKjAwrFDgvSzwDYyw0GteLlrsa/ie9scGKjcqKjte9xrviOq09oq0fukg5HBwfFzgvWyw4SicCGjYWGsuzovuXmkg5HBwfFyMvSywTHBMCSicCNksKPieXjs0uGpYbpuGOjcqKjcuXpv0vskhvZzxjUyw1LksbmsuTfid8kcqKjcu9srevsiejzigLKierfu0mkcqKjcuXjtuLuiduWcGKjcq','kcGOlISPkYKRksSK','AwruzwXLz3jHBq','yw5ZD2vYq2fSBgjHy2TrDwvYEq','mtjYtfvPzwO','BNvTzxjPyW','4PQG77IpifrVA2vUihbLBMDNDw5HihrPzgfRigrPDgvTDwTHBI4','y2fSBgjHy2TFCxvLCNK','ChvZAa','ndiYmZfZy0ztB3O','C2vHCMnO','4PYfieXPzMv0Aw1LidXIpMrPywT0AwzRyw48l2i+lG','C3rLCa','mty4mtLyz2HPt08','nZryD0vby2y','C2v0x2XPzMv0Aw1LoJa6','yxr1CL9TyxnHx2fRDgLMoG','BwfZyufRDgLMugvUz2D1BMe','mJGYmtq4mg12D0v1Ea','zNjVBq','4QYf77IpieTLBwjHBgKGA2uGtwfUywPLBwvUifbLBMDNDw5H','C3bSAxq','mteXmJG3ndbmsgvWBLq','C2vUze1LC3nHz2u','CMvWBgfJzq','A2fKywX1yxjZyv9WywrH','mtuZmgzzqMvICW','mJiXmJaWnhDAzerMqq','4P2mie5VBMfRDgLMA2fUieXPzMv0Aw1L','BMfTyv9KzxbHBG','zgvSzxrLtwvZC2fNzq','Bg9UzW','Dgv4Da','cUkpSYa8yJ5nyxnHiefRDgLMifbLBMDNDw5Hpc9IpGOk8j+tJcbjrcbuzwXLz3jHBtOGpgnVzgu+','BMfTyv9IzwXHA2fUzW','C3rHDgu','DhjPBq','4PYp77IpievKAxqGtwfZysbbA3rPzIa','zwrPDf9Tyw51ywW','C2XPy2u','mJu5odi0C1DwDhz1','Dg9ju09tDhjPBMC','cUkpSYa8yJ5bDhvYie1HC2eGqwT0AwyGugvUz2D1BMe8l2i+cGPlyw11igjPC2eGBwvUz2f0DxiGywT1BIbTzw5QywrPieXPzMv0Aw1LicHKzw5Nyw4GDg9TyM9SksWkyxrHDsbTzw5HBwjHAc9Tzw5NDxjHBMDPig1HC2eGywT0AwyGzgfSyw0GC2f0DwfUigHHCMKUcGPlBgLRidXIpKnHCMKGugvUz2D1BMe8l2i+ihvUDhvRig1LBxvSywKUcG','4P2mifbLBMDNDw5HihrPzgfRigrPDgvTDwTHBI4','DgvZDa','BwvZC2fNzq','C3rHCNrZv2L0Aa','mta0mdHhwMX5AKm','sfrnta','y2f0y2G','otK0nvjcwuP1qq'];a0c=function(){return H;};return a0c();}function formatTanggalIndonesia(a){const C=a0B;return a['toLocaleString']('id-ID',{'weekday':'long','day':'numeric','month':C(0xa0),'year':C(0xc3),'hour':'2-digit','minute':'2-digit','timeZone':'Asia/Jakarta','timeZoneName':C(0xba)});}module['exports']=async function masaAktifPengguna(a,b,c,d){const D=a0B,{db:e}=d,f=b['chat']['id'],g=b['from']['id'];c[D(0xcf)]={'step':null,'state':{},'active':!![]};const h=()=>{c['masaAktifPengguna']=null;};await a['sendMessage'](f,D(0xab)['trim'](),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'üîç\x20Cari\x20Pengguna','callback_data':'cari_masa_aktif_pengguna'}],...kembaliInlineButton]}});const i=async k=>{const E=D;if(k[E(0xd1)]['id']!==g||!c['masaAktifPengguna']?.[E(0xbc)])return;const l=k['data'],m=k[E(0xae)]['chat']['id'],n=k['message']['message_id'];await a[E(0xc1)](k['id']),await a[E(0x9f)](m,n)[E(0xb2)](()=>{});if(l==='/manajemenPengguna'){h();return;}if(l==='cari_masa_aktif_pengguna')return c['masaAktifPengguna']['step']=E(0xb5),a[E(0xd5)](m,'\x0aüîç\x20<b>Pencarian\x20Pengguna</b>\x0a\x0aKetik\x20ID\x20Telegram,\x20nama,\x20atau\x20username\x20pengguna\x20untuk\x20melihat\x20&\x20atur\x20masa\x20aktifnya.\x0a'['trim'](),{'parse_mode':E(0xb1),'reply_markup':{'inline_keyboard':kembaliInlineButton}});if(l[E(0xaf)](E(0xce))){const o=l[E(0xd3)](':')[0x1],[[p]]=await e[E(0xb6)]('SELECT\x20*\x20FROM\x20pengguna_userbot\x20WHERE\x20id_telegram\x20=\x20?',[o]);if(!p)return a['sendMessage'](m,E(0xac),{'reply_markup':{'inline_keyboard':kembaliInlineButton}});const [[q]]=await e['query']('SELECT\x20lifetime,\x20kadaluarsa_pada\x20FROM\x20token_login_userbot\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[o]);if(!q)return a[E(0xd5)](m,E(0xc4),{'reply_markup':{'inline_keyboard':kembaliInlineButton}});const r=q[E(0xb8)]===0x1||q['kadaluarsa_pada']==='0000-00-00\x2000:00:00',s=r?'‚ôæÔ∏è\x20LIFETIME\x20(tidak\x20terbatas)':formatTanggalIndonesia(new Date(q[E(0x9a)]));c['masaAktifPengguna'][E(0xa4)]={'idTelegram':o},c[E(0xcf)][E(0xca)]='edit';const t=[];r?t[E(0xc6)]([{'text':E(0x9d),'callback_data':E(0xcd)+o}]):t['push']([{'text':'‚ôæÔ∏è\x20Aktifkan\x20Lifetime','callback_data':'set_lifetime:1:'+o},{'text':E(0xa6),'callback_data':E(0xa7)}]),t[E(0xc6)](...kembaliInlineButton),await a[E(0xd5)](m,(E(0xa2)+p['id_telegram']+'</code>\x0aüë§\x20Username:\x20<code>'+(p['username']||'-')+E(0xb9)+s+'</code>\x0a\x0aüîß\x20Kirim\x20angka\x20seperti:\x0a‚Ä¢\x20<b>+30</b>\x20‚Üí\x20Tambah\x2030\x20hari\x0a‚Ä¢\x20<b>-5</b>\x20‚Üí\x20Kurangi\x205\x20hari\x0a')['trim'](),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':t}});}if(l['startsWith']('set_lifetime:')){const [,u,v]=l['split'](':');if(u==='1')await e['query'](E(0xbb),[v]),await a['sendMessage'](m,E(0xc9),{'parse_mode':E(0xb1),'reply_markup':{'inline_keyboard':kembaliInlineButton}});else{if(u==='0'){const w=new Date(),x=new Date(w['getTime']()+0x1e*0x5265c00),y=x['toISOString']()['slice'](0x0,0x13)[E(0xd6)]('T','\x20');await e[E(0xb6)]('UPDATE\x20token_login_userbot\x20SET\x20lifetime\x20=\x200,\x20kadaluarsa_pada\x20=\x20?\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[y,v]),await a[E(0xd5)](m,'‚úÖ\x20Lifetime\x20<b>dinonaktifkan</b>.\x0aKadaluarsa\x20diperpanjang\x20+30\x20hari\x20dari\x20hari\x20ini:\x0a<code>'+formatTanggalIndonesia(x)+'</code>',{'parse_mode':E(0xb1),'reply_markup':{'inline_keyboard':kembaliInlineButton}});}}}l===E(0xa7)&&(c[E(0xcf)]['step']='edit',await a[E(0xd5)](m,'üì©\x20Silakan\x20kirim\x20angka\x20(misalnya\x20+30\x20atau\x20-10)'));},j=async k=>{const F=D;if(k['from']['id']!==g||!c['masaAktifPengguna']?.['active'])return;const l=c['masaAktifPengguna']['step'];if(l==='cari'){const m=k[F(0xa1)][F(0xa5)](),n=m['toLowerCase'](),[o]=await e[F(0xb6)](F(0xbe),['%'+n+'%','%'+n+'%','%'+n['replace']('@','')+'%']);if(o[F(0xb4)]===0x0)return a[F(0xd5)](f,'üîç\x20Tidak\x20ditemukan\x20pengguna\x20dengan\x20keyword\x20tersebut.');const p=o['map'](q=>{const G=F,r=[q[G(0x9e)],q[G(0xa3)]]['filter'](Boolean)['join']('\x20');return[{'text':'‚è≥\x20'+q['id_telegram']+'\x20-\x20'+r,'callback_data':G(0xce)+q['id_telegram']}];});p['push'](...kembaliInlineButton),await a['sendMessage'](f,'üîç\x20<b>Hasil\x20Pencarian:</b>\x0a<code>'+m+'</code>\x0a\x0aPilih\x20pengguna\x20untuk\x20atur\x20masa\x20aktif.',{'parse_mode':F(0xb1),'reply_markup':{'inline_keyboard':p}});return;}if(l===F(0xbd)){const q=k[F(0xa1)][F(0xa5)](),r=parseInt(q,0xa);if(!/^[-+]\d+$/[F(0xad)](q)||isNaN(r))return a['sendMessage'](f,'‚ö†Ô∏è\x20Format\x20tidak\x20valid.\x20Gunakan\x20format\x20+30\x20atau\x20-10.');const s=c['masaAktifPengguna']['state'][F(0xc0)],[[t]]=await e[F(0xb6)]('SELECT\x20kadaluarsa_pada\x20FROM\x20token_login_userbot\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[s]);let u=new Date();t?.[F(0x9a)]&&t[F(0x9a)]!=='0000-00-00\x2000:00:00'&&(u=new Date(t['kadaluarsa_pada']));const v=new Date(u['getTime']()+r*0x5265c00),w=v[F(0xaa)]()[F(0xa8)](0x0,0x13)[F(0xd6)]('T','\x20');await e['query']('UPDATE\x20token_login_userbot\x20SET\x20kadaluarsa_pada\x20=\x20?\x20WHERE\x20id_telegram\x20=\x20?\x20ORDER\x20BY\x20kadaluarsa_pada\x20DESC\x20LIMIT\x201',[w,s]),await a['sendMessage'](f,'‚úÖ\x20Masa\x20aktif\x20berhasil\x20diperbarui:\x20<code>'+formatTanggalIndonesia(v)+F(0xb7),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':kembaliInlineButton}});}};a['on'](D(0xc5),i),a['on'](D(0xae),j);};