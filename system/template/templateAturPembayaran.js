const a0H=a0d;(function(a,b){const E=a0d,c=a();while(!![]){try{const d=parseInt(E(0x1b1))/0x1*(parseInt(E(0x1c1))/0x2)+parseInt(E(0x1b7))/0x3+parseInt(E(0x1ac))/0x4+-parseInt(E(0x1b9))/0x5*(parseInt(E(0x19e))/0x6)+-parseInt(E(0x1a4))/0x7+parseInt(E(0x1af))/0x8*(parseInt(E(0x1b8))/0x9)+parseInt(E(0x1b5))/0xa*(-parseInt(E(0x1ae))/0xb);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0xcf295));function a0c(){const M=['CxjPC18','lI4VlI4V','iezst00Gzgf0yv91C2vYyM90ifDirvjfihvZzxjUyw1Lx2jVDca9id8GteLnsvqGmq','vvbeqvrfigrHDgfFDxnLCMjVDcbtrvqG','y29WEuzPBgvtEw5J','C2vHCMnO','mM16C0fvva','yw5ZD2vYq2fSBgjHy2TrDwvYEq','yxr1CLbLBwjHEwfYyw4','zgf0yq','zMLSzv9Pza','pc9IpIb0zwXHAcbKAw1HDgLRyw4U','BwvZC2fNzq','AM9PBG','kcGOlISPkYKRksSK','DgvZDa','Cgf0Aa','yM90x2rLzMf1Bhq','C2vUze1LC3nHz2u','sfrnta','Dw5SAw5Ru3LUyW','zNjVBq','Dgv4Da','igjLCMHHC2LSigrPCgvYyMfYDwK6cGRWN5kZia','DhjPBq','zxH0BMfTzq','yxbWBhK','y29UC3rYDwn0B3i','4QYf77IpieTLBwjHBgKGA2uGtwfUywPLBwvUifbLBwjHEwfYyw4','otmXmMTZv0TTuW','C2vUzfbOB3rV','8j+sSYa','CgvTyMf5yxjHBL9XCMLZx21HBNvHBa','zxjYB3i','r3vUywTHBIbMB3jTyxq6idXJB2rLpJeYmZq1nJC4ic0GsKftquTzpc9JB2rLpG','otu2otm5ovHNEePTBG','8j+wVo+4JYbtAwXHA2fUigTPCMLTidXIpMDHBwjHCIbruKLtpc9IpIbIyxj1ihvUDhvRigrPC2LTCgfUlG','BgvUz3rO','u2LSywTHBIbRAxjPBwTHBIbNyw1IyxiGuvjjuY4','4PYfieDHBwjHCIbruKLtigjLCMHHC2LSigrPCgvYyMfYDwKH','Dg9mB3DLCKnHC2u','ywn0AxzL','u0vmrunuia','mJm1otK3mNL2r09xCq','B2zM','nJG4nK5YExndyG','ntmZmJqYnhfQEwn0ua','lI4VlI4VDxbSB2fKCY9KyxrHx3bLBwjHEwfYyw4','mtm2mJK2n011zwfRrG','lMPWzW','ChvZAa','y2fSBgjHy2TFCxvLCNK','nZe5mhrmtefyvG','zxHPC3rZu3LUyW','mZe3ndiYnvv5z3vtyG','oufcEeTtsa','mZi2meL4wwzbyW','qK9ux1vtrvjoqu1f'];a0c=function(){return M;};return a0c();}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){const F=a0d;if(c){const e=c[F(0x19b)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const G=a0d;return a0a['toString']()[G(0x1c0)]('(((.+)+)+)+$')['toString']()[G(0x19c)](a0a)['search'](G(0x18f));});a0a();const fs=require('fs'),path=require(a0H(0x191)),kembaliButton={'reply_markup':{'inline_keyboard':[[{'text':'⬅️\x20Kembali\x20ke\x20Manajemen\x20Pembayaran','callback_data':'/manajemenPembayaran'}]]}};function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x18d;let f=c[d];if(a0d['ocuaty']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['dWuDJH']=g,a=arguments,a0d['ocuaty']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['RNqMEq']=l,this['VzEbgI']=[0x1,0x0,0x0],this['HftKxI']=function(){return'newState';},this['SScxNO']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['GZyrhR']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['tTxbPi']=function(){const l=new RegExp(this['SScxNO']+this['GZyrhR']),m=l['test'](this['HftKxI']['toString']())?--this['VzEbgI'][0x1]:--this['VzEbgI'][0x0];return this['BZvMDV'](m);},k['prototype']['BZvMDV']=function(l){if(!Boolean(~l))return l;return this['YGjqeX'](this['RNqMEq']);},k['prototype']['YGjqeX']=function(l){for(let m=0x0,n=this['VzEbgI']['length'];m<n;m++){this['VzEbgI']['push'](Math['round'](Math['random']())),n=this['VzEbgI']['length'];}return l(this['VzEbgI'][0x0]);},new k(a0d)['tTxbPi'](),f=a0d['dWuDJH'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}function templateAturPembayaran({namaFitur:a,kolomPembayaran:b}){return async function(c,d,e={},f={}){const I=a0d,{dbJasakyOfficial:g}=f,h=d['chat']['id'],i=d[I(0x196)]['id'],j=global[I(0x1ba)]?.['replace'](/^@/,'')||I(0x192);if(!g){await c['sendMessage'](h,'⚠️\x20Context\x20DB\x20tidak\x20tersedia.',kembaliButton);return;}e['aturPembayaran']={'active':!![]};const k=()=>{const J=I;e['aturPembayaran']=null,c['removeListener'](J(0x18d),p),c['removeListener'](J(0x1b4),q);},[l]=await g['execute'](I(0x1ab)+b+I(0x1bd),[j]),m=l?.[0x0]?.[b]||null;let n=!m||m[I(0x1a9)]()==='off'?'❌\x20Belum\x20disetel\x20(OFF).':b==='pembayaran_qris_manual'?'📷\x20Gambar\x20QRIS\x20Sudah\x20di\x20SET.':I(0x1a0)+m;if(b===I(0x1a1)&&m&&m['toLowerCase']()!=='off'){const r=path['join'](__dirname,'../../',m);fs['existsSync'](r)&&await c[I(0x19f)](h,fs['createReadStream'](r),{'caption':'📷\x20<b>QRIS\x20Saat\x20Ini</b>','parse_mode':'HTML'});}const o=[];m&&m!=='off'&&o[I(0x1b3)]([{'text':'❌\x20Matikan\x20Pembayaran','callback_data':'matikan_pembayaran'}]);o['push']([{'text':I(0x19d),'callback_data':'/manajemenPembayaran'}]),await c[I(0x193)](h,('\x0a💼\x20<b>PENGATURAN\x20'+a['toUpperCase']()+'</b>\x0a\x0a📛\x20<b>Bot:</b>\x20@'+j+'\x0aℹ️\x20<b>Status\x20Saat\x20Ini:</b>\x20'+n+'\x0a\x0a'+(b===I(0x1a1)?I(0x1a5):'✏️\x20Kirim\x20teks\x20format\x20<b>[NOREK\x20-\x20ATASNAMA]</b>,\x20contoh:\x0a<code>12345678\x20-\x20JASAKY</code>')+'\x0a')['trim'](),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':o}});const p=async s=>{const K=I;if(!e[K(0x1c3)]?.[K(0x1aa)]||s['from']['id']!==i)return;try{if(b==='pembayaran_qris_manual'&&s['photo']){const t=s['photo'][s['photo'][K(0x1a6)]-0x1],u=await c['getFile'](t[K(0x1c5)]),v=path[K(0x19a)](u['file_path']||K(0x1b2)),w=path[K(0x18e)](__dirname,K(0x1b0));!fs['existsSync'](w)&&fs['mkdirSync'](w,{'recursive':!![]});if(m&&m['toLowerCase']()!=='off'){const B=path[K(0x18e)](__dirname,K(0x1bc),m);fs[K(0x1b6)](B)&&fs[K(0x195)](B);}const x=K(0x1bb)+j+v,y='uploads/data_pembayaran/'+x,z=path['join'](w,x),A=await c['downloadFile'](t[K(0x1c5)],w);fs[K(0x1bf)](A,z),fs['unlinkSync'](A),await g['execute'](K(0x1be)+b+'\x20=\x20?\x20WHERE\x20username_bot\x20=\x20?',[y,j]),await c['sendMessage'](h,K(0x1a8),kembaliButton);}else{if(s['text']&&/^[\d\s]+ - .+$/i[K(0x190)](s[K(0x197)]['trim']())){const C=s['text'][K(0x199)]();await g['execute']('UPDATE\x20data_userbot\x20SET\x20'+b+'\x20=\x20?\x20WHERE\x20username_bot\x20=\x20?',[C,j]),await c[K(0x193)](h,'✅\x20Data\x20pembayaran\x20'+a+K(0x198)+C,{'parse_mode':'HTML',...kembaliButton});}else await c['sendMessage'](h,'❌\x20Format\x20tidak\x20sesuai.\x20'+(b==='pembayaran_qris_manual'?K(0x1a7):K(0x1a3)),{'parse_mode':K(0x194),...kembaliButton});}}catch(D){console[K(0x1a2)](D),await c['sendMessage'](h,'❌\x20Terjadi\x20kesalahan\x20saat\x20menyimpan\x20data.',kembaliButton);}finally{k();}},q=async s=>{const L=I;if(!e['aturPembayaran']?.[L(0x1aa)]||s['from']['id']!==i)return;const t=s[L(0x1c4)];if(t==='/manajemenPembayaran'){await c[L(0x1c2)](s['id']),k();return;}if(t==='matikan_pembayaran')try{if(b==='pembayaran_qris_manual'&&m&&m[L(0x1a9)]()!==L(0x1ad)){const u=path['join'](__dirname,'../../',m);fs['existsSync'](u)&&fs[L(0x195)](u);}await g['execute']('UPDATE\x20data_userbot\x20SET\x20'+b+'\x20=\x20\x27off\x27\x20WHERE\x20username_bot\x20=\x20?',[j]),await c[L(0x1c2)](s['id'],{'text':'✅\x20Pembayaran\x20berhasil\x20dimatikan!','show_alert':![]}),await c[L(0x193)](h,'✅\x20Pembayaran\x20<b>'+a+L(0x1c6),{'parse_mode':L(0x194),...kembaliButton});}catch(v){console['error'](v),await c[L(0x193)](h,'❌\x20Gagal\x20mematikan\x20pembayaran.',kembaliButton);}finally{k();}};c['on']('message',p),c['on']('callback_query',q);};}module['exports']=templateAturPembayaran;