function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x1ba;let f=c[d];if(a0d['rbvdRr']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['QYjhvD']=g,a=arguments,a0d['rbvdRr']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['FfZDPf']=l,this['CDTmwv']=[0x1,0x0,0x0],this['UBNKyj']=function(){return'newState';},this['rTRQIz']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ZmIjjN']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['umWoYe']=function(){const l=new RegExp(this['rTRQIz']+this['ZmIjjN']),m=l['test'](this['UBNKyj']['toString']())?--this['CDTmwv'][0x1]:--this['CDTmwv'][0x0];return this['TGWcaZ'](m);},k['prototype']['TGWcaZ']=function(l){if(!Boolean(~l))return l;return this['XPKaBi'](this['FfZDPf']);},k['prototype']['XPKaBi']=function(l){for(let m=0x0,n=this['CDTmwv']['length'];m<n;m++){this['CDTmwv']['push'](Math['round'](Math['random']())),n=this['CDTmwv']['length'];}return l(this['CDTmwv'][0x0]);},new k(a0d)['umWoYe'](),f=a0d['QYjhvD'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}(function(a,b){const k=a0d,c=a();while(!![]){try{const d=-parseInt(k(0x1d5))/0x1*(parseInt(k(0x1c1))/0x2)+parseInt(k(0x1c4))/0x3+-parseInt(k(0x1ce))/0x4+parseInt(k(0x1d0))/0x5+parseInt(k(0x1c5))/0x6*(parseInt(k(0x1bb))/0x7)+-parseInt(k(0x1c9))/0x8*(-parseInt(k(0x1c2))/0x9)+parseInt(k(0x1bd))/0xa;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x94a56));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){const l=a0d;if(c){const e=c[l(0x1bc)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const m=a0d;return a0a['toString']()['search']('(((.+)+)+)+$')[m(0x1cc)]()[m(0x1cd)](a0a)['search']('(((.+)+)+)+$');});a0a();const getDB=require('../config/db'),logEventHelpers=require('../helpers/logEventHelpers');async function getUserSession(a){const n=a0d,b=await getDB();let c={};try{const [d]=await b['query']('SELECT\x20*\x20FROM\x20riwayat_login_userbot\x20WHERE\x20id_telegram\x20=\x20?',[a]),[e]=await b[n(0x1cf)]('SELECT\x20kadaluarsa_pada\x20FROM\x20token_login_userbot\x20WHERE\x20id_telegram\x20=\x20?',[a]);if(e['length']>0x0){const f=new Date(e[0x0]['kadaluarsa_pada']),g=new Date();f<g&&(await b[n(0x1cf)]('UPDATE\x20pengguna_userbot\x20SET\x20status_userbot\x20=\x200\x20WHERE\x20id_telegram\x20=\x20?',[a]),logEventHelpers('üîê\x20TOKEN\x20KADALUARSA\x20-\x20AUTO\x20LOGOUT',{'userId':a,'keterangan':'Token\x20login\x20telah\x20kedaluwarsa,\x20status_userbot\x20diset\x20ke\x200.'},'warning'));}if(d[n(0x1be)]>0x0){const h=d[0x0][n(0x1c6)];if(d[0x0]['status']!=='LOGGED_IN')try{typeof h==='string'&&h[n(0x1c0)]()[n(0x1c3)]('{')&&(c=JSON['parse'](h));}catch(i){logEventHelpers('‚ùå\x20GAGAL\x20PARSE\x20SESSION\x20DATA',{'userId':a,'keterangan':i[n(0x1bf)]},'error');}else c={'session_string':h,'status':d[0x0]['status']};}return logEventHelpers('üì•\x20GET\x20USER\x20SESSION',{'userId':a,'keterangan':n(0x1ba)},'info'),c;}catch(j){return logEventHelpers(n(0x1d2),{'userId':a,'keterangan':j[n(0x1bf)]},'error'),{};}}async function saveUserSession(a,b){const o=a0d;(!b||typeof b!=='object')&&(b={});const c=JSON['stringify'](b),d=await getDB();try{const [e]=await d['query']('SELECT\x20id\x20FROM\x20riwayat_login_userbot\x20WHERE\x20id_telegram\x20=\x20?',[a]);e[o(0x1be)]>0x0?await d['query'](o(0x1cb),[c,a]):await d['query'](o(0x1c7),[a,c]),logEventHelpers('üíæ\x20SAVE\x20USER\x20SESSION',{'userId':a,'keterangan':'Session\x20berhasil\x20disimpan.'},'success');}catch(f){logEventHelpers('‚ùå\x20ERROR\x20SAVE\x20USER\x20SESSION',{'userId':a,'keterangan':f['message']},o(0x1ca));}}async function resetUserSession(a){const p=a0d,b=await getDB();try{const [c]=await b['query'](p(0x1d4),[a]);c['length']>0x0&&(await b['query'](p(0x1cb),[JSON['stringify']({}),a]),logEventHelpers(p(0x1d3),{'userId':a,'keterangan':p(0x1d1)},p(0x1c8)));}catch(d){logEventHelpers('‚ùå\x20ERROR\x20RESET\x20USER\x20SESSION',{'userId':a,'keterangan':d['message']},p(0x1ca));}}module['exports']={'getUserSession':getUserSession,'saveUserSession':saveUserSession,'resetUserSession':resetUserSession};function a0c(){const q=['zxjYB3i','vvbeqvrfihjPD2f5yxrFBg9NAw5FDxnLCMjVDcbtrvqGC2vZC2LVBL9KyxrHid0GpYWGDxbKyxrLzf9HDca9ienvuLjftLrFveLnrvnuqu1qifDirvjfigLKx3rLBgvNCMfTid0GpW','Dg9tDhjPBMC','y29UC3rYDwn0B3i','ndm1nJaWneryvvnLqG','CxvLCNK','mte0mZa0me5KqurPrG','u2vZC2LVBIb1C2vYigrPCMvZzxqGkgrPA29ZB25NA2fUks4','4P2mievsuK9sieDfvcbvu0vsifnfu1njt04','4PM777Ipifjfu0vuifvtrviGu0vtu0LptG','u0vmrunuigLKiezst00GCML3yxLHDf9SB2DPBL91C2vYyM90ifDirvjfigLKx3rLBgvNCMfTid0GpW','mw5MA0PoCa','u2vZC2LVBIbIzxjOyxnPBcbKAw11yxqU','mJmYodLIBfLnENu','yxbWBhK','nJqYnJiYmfjeshDwBG','BgvUz3rO','BwvZC2fNzq','DhjPBq','mtC0otCZngnlyMTqua','nJnytwHOt2i','C3rHCNrZv2L0Aa','mZm5mdC5oefAExzsrG','mtaWmKfltw5xEq','C2vZC2LVBL9KyxrH','su5trvjuieLove8GCML3yxLHDf9SB2DPBL91C2vYyM90icHPzf90zwXLz3jHBsWGC2vZC2LVBL9KyxrHksbwquXvrvmGkd8Sid8P','Aw5MBW','mtC4ndHvzw56r3O'];a0c=function(){return q;};return a0c();}