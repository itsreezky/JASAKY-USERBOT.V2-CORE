const a0x=a0d;function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x109;let f=c[d];if(a0d['pPHSTT']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['WersTg']=g,a=arguments,a0d['pPHSTT']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['NxoBOq']=l,this['pIpfsR']=[0x1,0x0,0x0],this['NOuqRV']=function(){return'newState';},this['nSEDho']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['FYcxgv']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['SHHKoC']=function(){const l=new RegExp(this['nSEDho']+this['FYcxgv']),m=l['test'](this['NOuqRV']['toString']())?--this['pIpfsR'][0x1]:--this['pIpfsR'][0x0];return this['oyZuJX'](m);},k['prototype']['oyZuJX']=function(l){if(!Boolean(~l))return l;return this['LIAVib'](this['NxoBOq']);},k['prototype']['LIAVib']=function(l){for(let m=0x0,n=this['pIpfsR']['length'];m<n;m++){this['pIpfsR']['push'](Math['round'](Math['random']())),n=this['pIpfsR']['length'];}return l(this['pIpfsR'][0x0]);},new k(a0d)['SHHKoC'](),f=a0d['WersTg'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}(function(a,b){const u=a0d,c=a();while(!![]){try{const d=-parseInt(u(0x134))/0x1+-parseInt(u(0x130))/0x2*(parseInt(u(0x126))/0x3)+-parseInt(u(0x131))/0x4*(parseInt(u(0x110))/0x5)+-parseInt(u(0x10c))/0x6*(parseInt(u(0x133))/0x7)+-parseInt(u(0x11a))/0x8+parseInt(u(0x109))/0x9*(-parseInt(u(0x137))/0xa)+parseInt(u(0x114))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x706e1));const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){const v=a0d;if(c){const e=c[v(0x12e)](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const w=a0d;return a0a['toString']()['search'](w(0x120))[w(0x11c)]()[w(0x129)](a0a)['search'](w(0x120));});a0a();const requireLoginCommands=require('./onMessageHelpers/requireLoginCommands'),actionHandlers=require(a0x(0x113)),logMenuHelpers=require('../helpers/logMenuHelpers'),logEventHelpers=require(a0x(0x12a)),{resetUserSession}=require('../sessions/userSessions');module['exports']=function handleMessage(a,b){const {getUserSession:c,handlers:d,db:e,data:f}=b,g=async(h,i,j=null,k=b)=>{const y=a0d,l=d[y(0x132)][h];l?(logEventHelpers('▶️\x20COMMAND\x20DIPROSES',{'userId':i[y(0x10e)]['id'],'username':i['from'][y(0x11d)],'keterangan':y(0x12c)+h},y(0x118)),await l(a,i,j,k)):logEventHelpers('❓\x20COMMAND\x20TIDAK\x20DIKENALI',{'userId':i['from']['id'],'username':i['from'][y(0x11d)],'keterangan':y(0x119)+h},'warning');};a['on']('message',async h=>{const z=a0d,i=h[z(0x10e)]['id'],j=h['from'][z(0x11d)],k=h[z(0x125)]?.['trim'](),l=k?.[z(0x139)]('/');if(k?.['startsWith']('/start')){logEventHelpers(z(0x117),{'userId':i,'username':j},'info'),await g('/start',h,null,b);return;}if(k==='🔄\x20REFRESH\x20🔄'){const [n]=await e['query']('SELECT\x20status\x20FROM\x20riwayat_login_userbot\x20WHERE\x20id_telegram\x20=\x20?',[i]);n['length']>0x0&&n[0x0][z(0x123)]!=='LOGGED_IN'&&await e['query']('DELETE\x20FROM\x20riwayat_login_userbot\x20WHERE\x20id_telegram\x20=\x20?',[i]);logEventHelpers('🔁\x20REFRESH\x20LOGIN',{'userId':i,'username':j},'info');const o=await a['sendMessage'](i,'🔄\x20Refresh\x20selesai!\x20sedang\x20memuat\x20data...');setTimeout(()=>{const A=z;a[A(0x116)](i,o['message_id'])[A(0x12b)](()=>{});},0x7d0);return;}if(k===z(0x10d)){const p=f['usernamePemilik'];return logEventHelpers('☎️\x20HUBUNGI\x20ADMIN',{'userId':i,'username':j,'keterangan':z(0x11b)+p},z(0x118)),await a['sendMessage'](i,'📞\x20Hubungi\x20admin:\x0ahttps://t.me/'+p,{'reply_markup':{'inline_keyboard':[[{'text':z(0x111),'url':z(0x11b)+p}]]}});}if(k===z(0x13a))return logEventHelpers(z(0x124),{'userId':i,'username':j},z(0x118)),await a[z(0x135)](i,z(0x10a),{'reply_markup':{'inline_keyboard':[[{'text':'🧭\x20Kunjungi\x20Sekarang','url':z(0x121)}]]}});if(k===z(0x12f))return logEventHelpers(z(0x11e),{'userId':i,'username':j,'keterangan':z(0x12d)},'info'),await a['sendMessage'](i,'📦\x20Menu\x20TOKO\x20saat\x20ini\x20masih\x20dalam\x20tahap\x20pengembangan.\x0a\x0aSilakan\x20hubungi\x20admin\x20untuk\x20info\x20lebih\x20lanjut.',{'reply_markup':{'inline_keyboard':[[{'text':z(0x10b),'url':z(0x122)}]]}});const m=await c(i);if(m?.[z(0x138)]!==undefined){logEventHelpers('🔑\x20LOGIN\x20STEP\x20TERDETEKSI',{'userId':i,'username':j,'keterangan':'Langkah\x20login\x20aktif'},'debug'),await g(z(0x112),h,m,b);return;}if(requireLoginCommands['includes'](k)){let q=i;const [r]=await e[z(0x10f)](z(0x128),[i]);r['length']>0x0&&(q=r[0x0][z(0x11f)]);const s=await c(q);if(!s||s['status']!=='LOGGED_IN'){logEventHelpers('🚫\x20AKSES\x20MENU\x20TANPA\x20LOGIN',{'userId':i,'username':j,'keterangan':'Menu:\x20'+k},'warning'),await a['sendMessage'](h[z(0x127)]['id'],'🚫\x20Kamu\x20belum\x20login.\x20Silakan\x20login\x20terlebih\x20dahulu.');return;}}if(actionHandlers[k]){await resetUserSession(i);const t=await a['sendMessage'](h[z(0x127)]['id'],'⏳\x20Memproses\x20Permintaan...',{'reply_markup':{'remove_keyboard':!![]}});logEventHelpers(z(0x136),{'userId':i,'username':j,'keterangan':z(0x115)+k},z(0x118)),logMenuHelpers(k,h),await g(actionHandlers[k],h,m,b),await a[z(0x116)](t['chat']['id'],t['message_id'])['catch'](()=>{});return;}if(l){await g(k,h,m,b);return;}});};function a0c(){const B=['yxbWBhK','8j+BKIbut0TpipcFM5i','nZe5nJiYwwXhDNf4','mtuXnty4q3LPtgDj','y29TBwfUzeHHBMrSzxjZ','ndG5nZi0owHhswXyza','nJi5mJCYr1vrz2Ty','C2vUze1LC3nHz2u','8j+tGIbnru5vierjquTtrvm','mtCZmhb0v1PpvG','C3rLCa','C3rHCNrZv2L0Aa','8j+gMcbivujvtKDjiePbu0flwsdWN4Ay','otKYn0jluvn2sq','8j+tNIbiDwj1BMDPiePbu0flwtOkAhr0Chm6lY90lM1Ll0Pbu0flwv9jra','8j+NRsbiDwj1BMDPiefKBwLU','nK1XqNjRvq','8j+gMcbivujvtKDjiefetuLoipcFHPG','zNjVBq','CxvLCNK','mtvcru1Wvui','8j+NRsblDw5QDw5NAsbtzwTHCMfUzW','l2XVz2LU','lI9VBK1LC3nHz2vizwXWzxjZl2fJDgLVBKHHBMrSzxjZ','mJC4mduXntfVtNf4CfG','twvUDtOG','zgvSzxrLtwvZC2fNzq','8j+tQsbnru5fuKLnqsaVC3rHCNq','Aw5MBW','q29TBwfUzdOG','ntKYmZq0rwDVsvbA','Ahr0Chm6lY90lM1LlW','Dg9tDhjPBMC','DxnLCM5HBwu','8j+BKIbnru5vifrps08GreLbs1nfuW','AwrFDgvSzwDYyw1FzgLRB250CM9S','kcGOlISPkYKRksSK','Ahr0Chm6lY90lM1Ll0Pbu0flwv9jra','Ahr0Chm6lY90lM1LlYr7B3DUzxj9','C3rHDhvZ','4PIo77IpieHvqLvor0KGsKftquTz','Dgv4Da','m0XSwKfTyW','y2HHDa','u0vmrunuigLKx3rLBgvNCMfTx2rPA29UDhjVBcbguK9nigTVBNrYB2XFC2vZC2LVBNnFDxnLCMjVDaOGicaGicaGicbxsevsrsbPzf90zwXLz3jHBv9Wzw5NB250CM9Sid0GpYbbtKqGywT0AwyGpsb0CNvLieXjtuLuide','y29UC3rYDwn0B3i','lI4VAgvSCgvYCY9SB2DfDMvUDeHLBhbLCNm','y2f0y2G','twvUAMfSyw5Ryw4G','rML0DxiGDg9RBYbKAwfRC2vZig9SzwGGCgvUz2D1BMeUie1HC2LOigrHBgfTihrHAgfWihbLBMDLBwjHBMDHBI4'];a0c=function(){return B;};return a0c();}