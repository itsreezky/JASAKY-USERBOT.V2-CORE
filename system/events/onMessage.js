const a0w=a0d;(function(a,b){const u=a0d,c=a();while(!![]){try{const d=-parseInt(u(0xf7))/0x1*(-parseInt(u(0xe5))/0x2)+parseInt(u(0xe0))/0x3+-parseInt(u(0xe1))/0x4+-parseInt(u(0xcf))/0x5+parseInt(u(0xdc))/0x6+parseInt(u(0xf5))/0x7+parseInt(u(0xd5))/0x8*(-parseInt(u(0xd6))/0x9);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0x9c1ab));function a0c(){const A=['8j+tNIbiDwj1BMDPigfKBwLUoGPODhrWCZOVl3qUBwuV','mZeZmgLoEgviBq','y29TBwfUzeHHBMrSzxjZ','DxnLCM5HBwvqzw1PBgLR','4O+Zie1LBxbYB3nLCYbqzxjTAw50ywfUlI4U','C3rHCNrZv2L0Aa','Ahr0Chm6lY90lM1LlW','BgvUz3rO','BwvZC2fNzv9Pza','8j+BKIbnru5vifrps08GreLbs1nfuW','q29TBwfUzdOG','8j+tGIbnru5vierjquTtrvm','CxvLCNK','C2vUze1LC3nHz2u','Ahr0Chm6lY90lM1Ll0Pbu0flwv9jra','y2HHDa','8j+tNIbiDwj1BMDPiePbu0flwtOkAhr0Chm6lY90lM1Ll0Pbu0flwv9jra','mJaZnty1nNbSzKngBa','lI4VC2vZC2LVBNmVDxnLCLnLC3nPB25Z','ndCWvhfksMfm','y29UC3rYDwn0B3i','tgfUz2THAcbSB2DPBIbHA3rPzG','twvUDtOG','8j+uHcbsruzsrvniipcFLiq','y2f0y2G','mta5mtCZme9Jqvr2AW','te9hr0vex0Lo','zNjVBq','l3n0yxj0','Aw5MBW','8j+gMcbivujvtKDjiefetuLoipcFHPG','mteZnJa5mJH1te9quLq','oxDbuKvKta','lI9VBK1LC3nHz2vizwXWzxjZl2fJDgLVBKHHBMrSzxjZ','rML0DxiGDg9RBYbKAwfRC2vZig9SzwGGCgvUz2D1BMeUie1HC2LOigrHBgfTihrHAgfWihbLBMDLBwjHBMDHBI4','Dg9tDhjPBMC','zgvSzxrLtwvZC2fNzq','C2vHCMnO','mJCXnda5nfn0q1zMva','C3rLCa','C3rHDhvZ','4P2tienptu1btKqGveLequSGreLlru5bteK','mZi5mdy4offerhHNsq','mte5mdK1mKzwB1fSAG','DhjPBq','AwrFDgvSzwDYyw1FzgLRB250CM9S'];a0c=function(){return A;};return a0c();}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const v=a0d;return a0a[v(0xd9)]()[v(0xdb)]('(((.+)+)+)+$')[v(0xd9)]()[v(0xf8)](a0a)[v(0xdb)]('(((.+)+)+)+$');});a0a();const requireLoginCommands=require('./onMessageHelpers/requireLoginCommands'),actionHandlers=require(a0w(0xd7)),logMenuHelpers=require('../helpers/logMenuHelpers'),logEventHelpers=require('../helpers/logEventHelpers'),{resetUserSession}=require(a0w(0xf6));function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0xcf;let f=c[d];if(a0d['FoZMKn']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['BLwtkp']=g,a=arguments,a0d['FoZMKn']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['uyQvzf']=l,this['HWXaNG']=[0x1,0x0,0x0],this['EKEqFK']=function(){return'newState';},this['PuQPlF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['otBFRX']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['DiZQhh']=function(){const l=new RegExp(this['PuQPlF']+this['otBFRX']),m=l['test'](this['EKEqFK']['toString']())?--this['HWXaNG'][0x1]:--this['HWXaNG'][0x0];return this['HIDKDp'](m);},k['prototype']['HIDKDp']=function(l){if(!Boolean(~l))return l;return this['WCKQkb'](this['uyQvzf']);},k['prototype']['WCKQkb']=function(l){for(let m=0x0,n=this['HWXaNG']['length'];m<n;m++){this['HWXaNG']['push'](Math['round'](Math['random']())),n=this['HWXaNG']['length'];}return l(this['HWXaNG'][0x0]);},new k(a0d)['DiZQhh'](),f=a0d['BLwtkp'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}module['exports']=function handleMessage(a,b){const {getUserSession:c,handlers:d,db:e,data:f}=b,g=async(h,i,j=null,k=b)=>{const x=a0d,l=d[x(0xe6)][h];l?(logEventHelpers('â–¶ï¸\x20COMMAND\x20DIPROSES',{'userId':i['from']['id'],'username':i['from']['username'],'keterangan':'Menjalankan\x20'+h},'info'),await l(a,i,j,k)):logEventHelpers(x(0xdf),{'userId':i['from']['id'],'username':i['from']['username'],'keterangan':x(0xee)+h},'warning');};a['on']('message',async h=>{const y=a0d,i=h[y(0xd1)]['id'],j=h[y(0xd1)]['username'],k=h['text']?.[y(0xe2)](),l=k?.[y(0xe9)]('/');if(k?.['startsWith'](y(0xd2))){logEventHelpers('ðŸ“©\x20MENERIMA\x20/start',{'userId':i,'username':j},y(0xd3)),await g('/start',h,null,b);return;}if(k===y(0xfb)){const [n]=await e[y(0xf0)]('SELECT\x20status\x20FROM\x20riwayat_login_userbot\x20WHERE\x20id_telegram\x20=\x20?',[i]);n['length']>0x0&&n[0x0][y(0xde)]!==y(0xd0)&&await e['query']('DELETE\x20FROM\x20riwayat_login_userbot\x20WHERE\x20id_telegram\x20=\x20?',[i]);logEventHelpers('ðŸ”\x20REFRESH\x20LOGIN',{'userId':i,'username':j},'info');const o=await a[y(0xf1)](i,'ðŸ”„\x20Refresh\x20selesai!\x20sedang\x20memuat\x20data...');setTimeout(()=>{const z=y;a[z(0xda)](i,o['message_id'])[z(0xfc)](()=>{});},0x7d0);return;}if(k===y(0xd4)){const p=f[y(0xe7)];return logEventHelpers('â˜Žï¸\x20HUBUNGI\x20ADMIN',{'userId':i,'username':j,'keterangan':y(0xea)+p},y(0xd3)),await a[y(0xf1)](i,y(0xe4)+p,{'reply_markup':{'inline_keyboard':[[{'text':'ðŸ§­\x20Kunjungi\x20Sekarang','url':y(0xea)+p}]]}});}if(k==='ðŸ†˜\x20HUBUNGI\x20JASAKY\x20ðŸ†˜')return logEventHelpers('â˜Žï¸\x20HUBUNGI\x20JASAKY',{'userId':i,'username':j},'info'),await a['sendMessage'](i,y(0xf4),{'reply_markup':{'inline_keyboard':[[{'text':'ðŸ§­\x20Kunjungi\x20Sekarang','url':'https://t.me/JASAKY_ID'}]]}});if(k==='ðŸ›’\x20TOKO\x20ðŸ›’')return logEventHelpers(y(0xed),{'userId':i,'username':j,'keterangan':y(0xd8)},'info'),await a['sendMessage'](i,'ðŸ“¦\x20Menu\x20TOKO\x20saat\x20ini\x20masih\x20dalam\x20tahap\x20pengembangan.\x0a\x0aSilakan\x20hubungi\x20admin\x20untuk\x20info\x20lebih\x20lanjut.',{'reply_markup':{'inline_keyboard':[[{'text':'ðŸ§­\x20Hubungi\x20Admin','url':y(0xf2)}]]}});const m=await c(i);if(m?.[y(0xdd)]!==undefined){logEventHelpers('ðŸ”‘\x20LOGIN\x20STEP\x20TERDETEKSI',{'userId':i,'username':j,'keterangan':y(0xf9)},'debug'),await g('/login',h,m,b);return;}if(requireLoginCommands['includes'](k)){let q=i;const [r]=await e[y(0xf0)]('SELECT\x20id_telegram_dikontrol\x20FROM\x20kontrol_sessions_userbot\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id_telegram_pengontrol\x20=\x20?\x20AND\x20aktif\x20=\x20true\x20LIMIT\x201',[i]);r[y(0xeb)]>0x0&&(q=r[0x0][y(0xe3)]);const s=await c(q);if(!s||s['status']!=='LOGGED_IN'){logEventHelpers('ðŸš«\x20AKSES\x20MENU\x20TANPA\x20LOGIN',{'userId':i,'username':j,'keterangan':y(0xfa)+k},'warning'),await a[y(0xf1)](h[y(0xf3)]['id'],'ðŸš«\x20Kamu\x20belum\x20login.\x20Silakan\x20login\x20terlebih\x20dahulu.');return;}}if(actionHandlers[k]){await resetUserSession(i);const t=await a['sendMessage'](h['chat']['id'],y(0xe8),{'reply_markup':{'remove_keyboard':!![]}});logEventHelpers(y(0xef),{'userId':i,'username':j,'keterangan':y(0xfa)+k},'info'),logMenuHelpers(k,h),await g(actionHandlers[k],h,m,b),await a[y(0xda)](t['chat']['id'],t[y(0xec)])['catch'](()=>{});return;}if(l){await g(k,h,m,b);return;}});};