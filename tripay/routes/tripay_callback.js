const a0u=a0d;(function(a,b){const s=a0d,c=a();while(!![]){try{const d=parseInt(s(0xa3))/0x1*(-parseInt(s(0xa1))/0x2)+parseInt(s(0xaa))/0x3*(-parseInt(s(0x9d))/0x4)+-parseInt(s(0xb4))/0x5+-parseInt(s(0xa7))/0x6*(-parseInt(s(0x98))/0x7)+-parseInt(s(0xa0))/0x8*(-parseInt(s(0xad))/0x9)+parseInt(s(0x93))/0xa+parseInt(s(0xba))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0c,0xd8692));function a0d(a,b){const c=a0c();return a0d=function(d,e){d=d-0x8f;let f=c[d];if(a0d['AvLYze']===undefined){var g=function(l){const m='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let n='',o='',p=n+g;for(let q=0x0,r,s,t=0x0;s=l['charAt'](t++);~s&&(r=q%0x4?r*0x40+s:s,q++%0x4)?n+=p['charCodeAt'](t+0xa)-0xa!==0x0?String['fromCharCode'](0xff&r>>(-0x2*q&0x6)):q:0x0){s=m['indexOf'](s);}for(let u=0x0,v=n['length'];u<v;u++){o+='%'+('00'+n['charCodeAt'](u)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(o);};a0d['jpvmTH']=g,a=arguments,a0d['AvLYze']=!![];}const h=c[0x0],i=d+h,j=a[i];if(!j){const k=function(l){this['LibmLi']=l,this['NZBxjC']=[0x1,0x0,0x0],this['CHOVOP']=function(){return'newState';},this['QtnqJV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['pCsUbO']='[\x27|\x22].+[\x27|\x22];?\x20*}';};k['prototype']['gGpTuS']=function(){const l=new RegExp(this['QtnqJV']+this['pCsUbO']),m=l['test'](this['CHOVOP']['toString']())?--this['NZBxjC'][0x1]:--this['NZBxjC'][0x0];return this['QYYIpk'](m);},k['prototype']['QYYIpk']=function(l){if(!Boolean(~l))return l;return this['TdktTM'](this['LibmLi']);},k['prototype']['TdktTM']=function(l){for(let m=0x0,n=this['NZBxjC']['length'];m<n;m++){this['NZBxjC']['push'](Math['round'](Math['random']())),n=this['NZBxjC']['length'];}return l(this['NZBxjC'][0x0]);},new k(a0d)['gGpTuS'](),f=a0d['jpvmTH'](f),a[i]=f;}else f=j;return f;},a0d(a,b);}const a0b=(function(){let a=!![];return function(b,c){const d=a?function(){if(c){const e=c['apply'](b,arguments);return c=null,e;}}:function(){};return a=![],d;};}()),a0a=a0b(this,function(){const t=a0d;return a0a['toString']()[t(0x96)](t(0xb2))['toString']()['constructor'](a0a)['search'](t(0xb2));});a0a();const express=require('express'),crypto=require('crypto'),fs=require('fs'),path=require(a0u(0xa5)),axios=require('axios'),mysql=require(a0u(0x94));require('dotenv')['config']();function a0c(){const x=['uefjra','uM91DgvY','vgvSzwDYyw0GzxjYB3i6','revmrvrfiezst00GCgvUzgLUz19RB250CM9SifDirvjfihjLzMvYzw5Jzsa9id8','pc9IpGOGicaGicdIJ7mGqMvYBgfRDtOGmZaGAgfYAqOGicaGicaGia','4PYfihrYAxbHEv9JywXSyMfJAY5QCYbHA3rPzIbKyw4GCM91DguGl2nHBgXIywnRihrLCNbHC2fUzW','w0vsuK9sxsa','ndu4mtC3mhjSz2j2Bq','BxLZCwWYl3bYB21PC2u','zw52','C2vHCMnO','BMfTyv9Szw5NA2fW','otqXndu4quL6rgLo','DxnLCM5HBwu','zxjYB3i','BMfTyq','Dg9ju09tDhjPBMC','mJruvLPVqxq','lI4VBg9NCY90CMLWyxKUBg9N','w0LovKfmsurDia','oeLxqxjSva','mtK0nda0nK5YrMTQCW','rejFue9sva','mvH0ywTsyW','vvbeqvrfihrYyw5ZywTZAv90CMLWyxKGu0vuihn0yxr1CYa9id8SihvWzgf0zwrFyxqGpsbot1COksbxsevsrsbYzwzLCMvUy2uGpsa/','Cgf0Aa','rejFvvnfuG','ntreEKfbtwu','BwvZC2fNzq','zxHLy3v0zq','ntqWmZG3y3ffAKXK','vhjHBNnHA3nPihrPzgfRigrPDgvTDwTHBG','C3rHDhvZ','mJaYnJK1m2firxLJza','C2vUza','vevmruDsqu1Fve9lru4','vfjjuefzx1bssvzbvevFs0vz','AgvHzgvYCW','kcGOlISPkYKRksSK','AwrFDgvSzwDYyw0','mJu0nJu2nu9twu9xtW','Cg9ZDa','cIaGicaGiokCHsa8yJ5uB2TLBIbczxjOyxnPBcbeAwjLBgK8l2i+cGOGicaGicdWN46F77IpidXJB2rLpG','DxbKyxrL','DgLWzq','ChjVzhvRx2XHyMvS','mtCXmde1nJHOt1HQEuS','yxbWzw5KrMLSzvn5BMm','rejFtKfnrq','sKftruiGsKftquTz','zxHWB3j0CW','Dg9tDhjPBMC','u0vmrunuicOGrLjptsb0CMfUC2fRC2LFDhjPCgf5ifDirvjfihjLzMvYzw5Jzsa9id8','sw50zxjUywWGu2vYDMvYievYCM9Y','Ec1JywXSyMfJAY1ZAwDUyxr1CMu'];a0c=function(){return x;};return a0c();}const router=express[a0u(0xc4)](),LOG_FILE=path['join'](__dirname,a0u(0x9e)),dbConfig={'host':process['env']['DB_HOST'],'user':process[a0u(0x95)][a0u(0xa6)],'password':process['env']['DB_PASS'],'database':process['env'][a0u(0xbc)],'port':process['env'][a0u(0xa2)]||0xcea};async function kirimPesanTelegram(a,b){const v=a0u,c=process['env'][v(0xaf)];if(!c)return;try{await axios[v(0xb5)]('https://api.telegram.org/bot'+c+'/sendMessage',{'chat_id':a,'text':b,'parse_mode':'HTML'});}catch(d){console[v(0x9a)](v(0xc5),d[v(0xa8)]);}}router[a0u(0xb5)]('/callback',async(a,b)=>{const w=a0u,c=a[w(0xb1)][w(0xc2)],d=JSON['stringify'](a['body']),e=crypto['createHmac']('sha256',process['env'][w(0xb0)])[w(0xb7)](d)['digest']('hex');if(c!==e)return fs[w(0xbb)](LOG_FILE,w(0x9f)+new Date()[w(0x9c)]()+'\x20=>\x20'+d+'\x0a'),b['status'](0x193)['send']('Invalid\x20signature');const {reference:f,status:g}=a['body'];fs['appendFileSync'](LOG_FILE,'[OK]\x20'+new Date()['toISOString']()+'\x20|\x20REF='+f+'\x20STATUS='+g+'\x0a');try{const h=await mysql['createConnection'](dbConfig);await h['execute'](w(0xa4),[g,f]);if(g===w(0xc3)){const [[i]]=await h[w(0xa9)](w(0xc0),[f]);if(!i)return b['send'](w(0xab));if(i['tipe']==='token'){const j=crypto['randomBytes'](0x20)[w(0xbf)]('hex'),k=new Date(),l=new Date(k['getTime']()+0x1e*0x18*0x3c*0x3c*0x3e8),m={'Token\x20Member\x20(10\x20coin)':'Member\x20JASAKY','Token\x20JASEB\x20(25\x20coin)':w(0xbd),'Token\x20VIP\x20(30\x20coin)':'VIP\x20JASAKY'},n=m[i[w(0xb9)]]||'Member\x20JASAKY';await h['execute']('INSERT\x20INTO\x20token_login\x20(token,\x20id_telegram,\x20sudah_dipakai,\x20dibuat_pada,\x20kadaluarsa_pada,\x20level,\x20coin)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x200,\x20?,\x20?,\x20?,\x20?)',[j,null,k,l,n,0x0]),await kirimPesanTelegram(i[w(0xb3)],w(0xb6)+j+'</code>\x0a\x0a\x20\x20\x20\x20\x20\x20üè∑Ô∏è\x20Level:\x20<b>'+n+w(0x90));}else{if(i[w(0xb8)]==='kontrol'){const [[o]]=await h['execute']('SELECT\x20*\x20FROM\x20pending_kontrol\x20WHERE\x20reference\x20=\x20?',[f]);if(o){await h['execute']('INSERT\x20INTO\x20kontrol_akun\x20(id_telegram,\x20username,\x20password,\x20nama_lengkap,\x20status_aktif)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x201)',[o['id_telegram'],o[w(0x99)],o['password'],o['nama_lengkap']]);const p=JSON['parse'](o['target_json']||'[]');for(const q of p){await h['execute']('INSERT\x20INTO\x20list_kontrol\x20(id_telegram,\x20id_telegram_pemilik,\x20nama_akun,\x20username_akun)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?,\x20?)',[q['id'],o[w(0xb3)],q[w(0x9b)],q[w(0x99)]]);}await h['execute'](w(0x8f),[f]),await kirimPesanTelegram(i['id_telegram'],'\x0a‚úÖ\x20<b>Akun\x20Kontrol\x20Berhasil\x20Dibuat</b>\x0a\x0aüë§\x20'+o[w(0x97)]+'\x0aüîê\x20'+o['password']+'\x0aJumlah\x20target:\x20'+p['length']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}}}await h['end'](),b['send']('OK');}catch(r){console[w(0x9a)]('‚ùå\x20Callback\x20error:',r['message']),fs[w(0xbb)](LOG_FILE,w(0x92)+new Date()['toISOString']()+'\x20=>\x20'+r['message']+'\x0a'),b[w(0xac)](0x1f4)[w(0xae)](w(0xc1));}}),module[a0u(0xbe)]=router,console['log'](a0u(0x91));